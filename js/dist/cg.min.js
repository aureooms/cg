!function(n,r){"use strict";var t=function(n){for(var r=[],t=0;t<n.length;++t)for(var e=0;e<n.length;++e)if(t!=e){for(var i=[null,null],o=[1,1],f=0;f<n.length;++f)if(f!=e&&f!=t){var u=sin_sign(n[e],n[t],n[f]),s=geo.cos(n[e],n[t],n[f]);u>=0&&s<=o[0]&&(i[0]=n[f],o[0]=s),0>=u&&s<=o[1]&&(i[1]=n[f],o[1]=s)}if(i[0]&&i[1]&&sin_sign(i[0],i[1],n[t])<=0){r[t]=!0;break}break}for(var a=[],f=0;f<n.length;++f)r[f]||a.push(n[f]);return a};n.ch_n2=t;var i=function(n,r){var t,e,i,o,f,u,s,a;for(s=n.length,t=0;s>t;++t){o=n[t];n:for(e=0;s>e;++e)if(e!==t){for(f=n[e],i=0;s>i;++i)if(i!==t&&i!==e&&(u=n[i],a=B(o,f,u),0>a||0===a&&q(o,f,u)>0))continue n;r[e]=!0}}};n.chn3=i;var o=function(n){var r=function(r,t){var e,i,o,f,u,s,a,c;for(c=r.length,e=0;c>e;++e)if(t[e])for(f=r[e],i=0;c>i;++i)if(i!==e&&t[i])for(u=r[i],o=0;c>o;++o)if(o!==e&&o!==i&&t[o]&&(s=r[o],!colinear(f,u,s)))for(a=0;c>a;++a)a!==e&&a!==i&&a!==o&&t[a]&&n(r[a],f,u,s)&&(t[a]=!1)};return r};n.__chn4__=o;var f=function(n,r,t,e,i){for(var o=e;t>r;){o=Math.floor((t-r)/2)+r;var f=0>o-1?n.length-1:o-1,u=(o+1)%n.length,s=geo.cos(n[e],i,n[o]),a=geo.cos(n[e],i,n[f]),c=geo.cos(n[e],i,n[u]);if(a>s){if(c>s)return o;if(s==c&&dist(i,n[o])<dist(i,n[u]))return o;r=o+1}else{if(s==a&&c>s&&dist(i,n[o])<dist(i,n[f]))return o;t=o}}return o},u=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,e=n.length,i=Math.floor((e-t)/2)+t,o=sin_sign(n[0],n[1],r)<0?1:-1;e>t;){if(o*sin_sign(n[0],r,n[i])>0){if(o*sin_sign(n[0],r,n[(i+1)%n.length])<0){++i;break}t=i+1}else{if(o*sin_sign(n[0],r,n[i-1])>0)break;e=i}i=Math.floor((e-t)/2)+t}var u=f(n,0,i,0,r),s=f(n,i,n.length,0,r);0==s&&(s=[u,u=s][0]),sin_sign(n[u],n[s],r)>=0?n.splice(u+1,s-u-1,r):(n.splice(s+1,n.length-s-1,r),n.splice(0,u))},s=function(){};n.ch_online_add=u,n.ch_online_rm=s;var a=function(n){n.length<2||c(n)};n.ch_sort=a;var c=function(n){for(var r=0,t=1;t<n.length;++t)(n[t].x<n[r].x||n[t].x==n[r].x&&n[t].y<n[r].y)&&(r=t);n[0]=[n[r],n[r]=n[0]][0];var e=0,i=new Point(n[e].x,n[e].y-1);shuffle(n,1,n.length),quicksort(n,1,n.length,function(r,t){var o=geo.cos(i,n[e],r),f=geo.cos(i,n[e],t);return f>o||o==f&&dist(n[e],r)>dist(n[e],t)})},v=function(n){if(n.length<2)return n;c(n);for(var r=[0,1],t=2;t<n.length;++t){for(;sin_sign(n[r[r.length-2]],n[r[r.length-1]],n[t])>0;)r.pop();r.push(t)}for(var e=[],t=0;t<r.length;++t)e.push(n[r[t]]);return e};n.graham_sort=c,n.graham_scan=v;var l=function(n){if(n.length<2)return n;shuffle(n,0,n.length),quicksort(n,0,n.length,function(n,r){return n.x<r.x});for(var r=[0,1],t=[0,1],e=2;e<n.length;++e){for(;r.length>1&&sin_sign(n[r[r.length-2]],n[r[r.length-1]],n[e])<=0;)r.pop();for(r.push(e);t.length>1&&sin_sign(n[t[t.length-2]],n[t[t.length-1]],n[e])>=0;)t.pop();t.push(e)}for(var i=[],e=0;e<t.length;++e)i.push(n[t[e]]);for(var e=r.length-2;e>0;--e)i.push(n[r[e]]);return i};n.graham_scan_mono=l;var h=function(n){if(n.length<2)return n.slice();for(var r=0,t=1;t<n.length;++t)(n[t].x<n[r].x||n[t].x==n[r].x&&n[t].y<n[r].y)&&(r=t);if(n.length<3)return[n[r],n[r?0:1]];var e=r,i=new Point(n[e].x,n[e].y-1);r=0;var t=e?0:1,o=geo.cos(i,n[e],n[t]),f=dist(n[e],n[t]);for(++t;t<n.length;++t)if(e!=t){var u=geo.cos(i,n[e],n[t]),s=dist(n[e],n[t]);(o>u||u==o&&s>f)&&(r=t,o=u,f=s)}for(var a=[n[e]],c=e,v=-1;c!=v;){a.push(n[r]),v=0;for(var t=0;t<n.length;++t)if(e!=t&&r!=t){v=t,o=geo.cos(n[e],n[r],n[t]),f=dist(n[r],n[t]),++t;break}for(;t<n.length;++t)if(e!=t&&r!=t){var u=geo.cos(n[e],n[r],n[t]),s=dist(n[r],n[t]);(o>u||u==o&&s>f)&&(v=t,o=u,f=s)}e=r,r=v}return a};n.jarvis_march=h;var g=function(n){if(n.length<4)return n.slice();var t=find_min_y(n,0,n.length);n[0]=[n[t],n[t]=n[0]][0],t=0;var i=find_max_y(n,1,n.length);n[1]=[n[i],n[i]=n[1]][0],i=1;for(var o,f,u,s,a=2,c=e=n.length-1;c>=a;){var v=sin_sign(n[t],n[i],n[a]);if(v>0){var l=dist_pl(n[a],[n[t],n[i]]);(o===r||l>u)&&(o=a,u=l),++a}else if(0>v){n[a]=[n[c],n[c]=n[a]][0];var l=dist_pl(n[c],[n[t],n[i]]);(f===r||l>s)&&(f=c,s=l),--c}else f===e&&(f=c),a!=c&&(n[e]=[n[c],n[c]=n[e]][0]),n[a]=[n[e],n[e]=n[a]][0],--e,--c}var h=[];return h.push(n[t]),o!==r&&(n[o]=[n[2],n[2]=n[o]][0],o=2,_(n,3,c,t,i,o,h)),h.push(n[i]),f!==r&&(n[f]=[n[c+1],n[c+1]=n[f]][0],f=c+1,_(n,c+2,e,i,t,f,h)),h},_=function(n,t,e,i,o,f,u){for(var s,a,c,v,l=e,h=t;e>=t;)if(sin_sign(n[f],n[o],n[t])>0){var g=dist_pl(n[t],[n[f],n[o]]);(s===r||g>c)&&(s=t,c=g),++t}else if(sin_sign(n[i],n[f],n[t])>0){n[t]=[n[e],n[e]=n[t]][0];var g=dist_pl(n[e],[n[i],n[f]]);(a===r||g>v)&&(a=e,v=g),--e}else a===l&&(a=e),t!=e&&(n[l]=[n[e],n[e]=n[l]][0]),n[t]=[n[l],n[l]=n[t]][0],--l,--e;s!==r&&(n[s]=[n[h],n[h]=n[s]][0],s=h,_(n,h+1,e,f,o,s,u)),u.push(n[f]),a!==r&&(n[a]=[n[e+1],n[e+1]=n[a]][0],a=e+1,_(n,e+2,l,i,f,a,u))};n.quick_hull=g;var p=function(n){var r,t,e,i,o,f,u,s,a,c,v,l;return r=n[0],i=r[0],o=r[1],f=r[2],t=n[1],u=t[0],s=t[1],a=t[2],e=n[2],c=e[0],v=e[1],l=e[2],i*s*l+o*a*c+f*u*v-c*s*f-v*a*i-l*u*o};n.det3=p;var d=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vsub=d;var x=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=x;var y=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=y;var d=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=d;var k=function(n){var r=function(r,t,e){return n(r,t,e)>0};return r};n.__ccw__=k;var m=function(n){var r=function(r,t,e){return n(r,t,e)>=0};return r};n.__ccwc__=m;var b=function(n){var r=function(r,t,e){return 0===n(r,t,e)};return r};n.__colinear__=b;var w=function(n){var r=function(r,t,e){var i,o,f,u,s;if(s=e-t,2>=s)return!0;if(u=t,i=r[u],++u,o=r[u],++u,f=r[u],++u,3===s)return n(i,o,f);for(;;){if(!n(i,o,f))return!1;if(u===e)return u=t,i=r[u],n(o,f,i)?(++u,o=r[u],n(f,i,o)):!1;if(i=r[u],++u,!n(o,f,i))return!1;if(u===e)return u=t,o=r[u],n(f,i,o)?(++u,f=r[u],n(i,o,f)):!1;if(o=r[u],++u,!n(f,i,o))return!1;if(u===e)return u=t,f=r[u],n(i,o,f)?(++u,i=r[u],n(o,f,i)):!1;f=r[u],++u}};return r};n.__convex__=w;var q=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=q;var M=function(n){var r=function(r,t,e){return n(r,t,e)<0};return r};n.__cw__=M;var P=function(n){var r=function(r,t,e){return n(r,t,e)<=0};return r};n.__cwc__=P;var j=function(n){var r=function(r,t,e,i){var o,f,u,s,a,c,v,l,h;return o=r[0],f=r[1],u=t[0],s=t[1],a=e[0],c=e[1],v=i[0],l=i[1],h=v*v+l*l,n([[o-v,f-l,o*o+f*f-h],[u-v,s-l,u*u+s*s-h],[a-v,c-l,a*a+c*c-h]])>0};return r};n.__icc__=j;var z=function(n){var r=function(r,t,e,i){return n(t,e,r)&&n(e,i,r)&&n(i,t,r)};return r};n.__pit__=z;var A=function(n){var r=function(r,t,e,i,o){var f,u,s;for(s=0,f=r[e-1],u=r[t],++t;;){if(s+=n(i,o,f,u),++t,t===e)return s;if(f=r[t],s+=n(i,o,f,u),++t,t===e)return s;u=r[t]}};return r};n.__rc__=A;var B=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=B}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map