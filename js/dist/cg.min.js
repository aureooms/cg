!function(n,r){"use strict";var t=function(n){for(var r=[],t=0;t<n.length;++t)for(var e=0;e<n.length;++e)if(t!=e){for(var i=[null,null],f=[1,1],o=0;o<n.length;++o)if(o!=e&&o!=t){var u=sin_sign(n[e],n[t],n[o]),s=geo.cos(n[e],n[t],n[o]);u>=0&&s<=f[0]&&(i[0]=n[o],f[0]=s),0>=u&&s<=f[1]&&(i[1]=n[o],f[1]=s)}if(i[0]&&i[1]&&sin_sign(i[0],i[1],n[t])<=0){r[t]=!0;break}break}for(var a=[],o=0;o<n.length;++o)r[o]||a.push(n[o]);return a};n.ch_n2=t;var i=function(n,r){var t=function(t,e){var i,f,o,u,s,a,c,v;for(c=t.length,i=0;c>i;++i){u=t[i];n:for(f=0;c>f;++f)if(f!==i){for(s=t[f],o=0;c>o;++o)if(o!==i&&o!==f&&(a=t[o],v=n(u,s,a),0>v||0===v&&r(u,s,a)<0))continue n;e[f]=!0}}};return t};n.__chn3__=i;var f=function(n,r){var t=function(t,e){var i,f,o,u,s,a,c,v;for(v=t.length,i=0;v>i;++i)if(e[i])for(u=t[i],f=0;v>f;++f)if(f!==i&&e[f])for(s=t[f],o=0;v>o;++o)if(o!==i&&o!==f&&e[o]&&(a=t[o],!n(u,s,a)))for(c=0;v>c;++c)c!==i&&c!==f&&c!==o&&e[c]&&r(t[c],u,s,a)&&(e[c]=!1)};return t};n.__chn4__=f;var o=function(n,r,t,e,i){for(var f=e;t>r;){f=Math.floor((t-r)/2)+r;var o=0>f-1?n.length-1:f-1,u=(f+1)%n.length,s=geo.cos(n[e],i,n[f]),a=geo.cos(n[e],i,n[o]),c=geo.cos(n[e],i,n[u]);if(a>s){if(c>s)return f;if(s==c&&dist(i,n[f])<dist(i,n[u]))return f;r=f+1}else{if(s==a&&c>s&&dist(i,n[f])<dist(i,n[o]))return f;t=f}}return f},u=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,e=n.length,i=Math.floor((e-t)/2)+t,f=sin_sign(n[0],n[1],r)<0?1:-1;e>t;){if(f*sin_sign(n[0],r,n[i])>0){if(f*sin_sign(n[0],r,n[(i+1)%n.length])<0){++i;break}t=i+1}else{if(f*sin_sign(n[0],r,n[i-1])>0)break;e=i}i=Math.floor((e-t)/2)+t}var u=o(n,0,i,0,r),s=o(n,i,n.length,0,r);0==s&&(s=[u,u=s][0]),sin_sign(n[u],n[s],r)>=0?n.splice(u+1,s-u-1,r):(n.splice(s+1,n.length-s-1,r),n.splice(0,u))},s=function(){};n.ch_online_add=u,n.ch_online_rm=s;var a=function(n){n.length<2||c(n)};n.ch_sort=a;var c=function(n){for(var r=0,t=1;t<n.length;++t)(n[t].x<n[r].x||n[t].x==n[r].x&&n[t].y<n[r].y)&&(r=t);n[0]=[n[r],n[r]=n[0]][0];var e=0,i=new Point(n[e].x,n[e].y-1);shuffle(n,1,n.length),quicksort(n,1,n.length,function(r,t){var f=geo.cos(i,n[e],r),o=geo.cos(i,n[e],t);return o>f||f==o&&dist(n[e],r)>dist(n[e],t)})},v=function(n){if(n.length<2)return n;c(n);for(var r=[0,1],t=2;t<n.length;++t){for(;sin_sign(n[r[r.length-2]],n[r[r.length-1]],n[t])>0;)r.pop();r.push(t)}for(var e=[],t=0;t<r.length;++t)e.push(n[r[t]]);return e};n.graham_sort=c,n.graham_scan=v;var l=function(n){if(n.length<2)return n;shuffle(n,0,n.length),quicksort(n,0,n.length,function(n,r){return n.x<r.x});for(var r=[0,1],t=[0,1],e=2;e<n.length;++e){for(;r.length>1&&sin_sign(n[r[r.length-2]],n[r[r.length-1]],n[e])<=0;)r.pop();for(r.push(e);t.length>1&&sin_sign(n[t[t.length-2]],n[t[t.length-1]],n[e])>=0;)t.pop();t.push(e)}for(var i=[],e=0;e<t.length;++e)i.push(n[t[e]]);for(var e=r.length-2;e>0;--e)i.push(n[r[e]]);return i};n.graham_scan_mono=l;var _=function(n){if(n.length<2)return n.slice();for(var r=0,t=1;t<n.length;++t)(n[t].x<n[r].x||n[t].x==n[r].x&&n[t].y<n[r].y)&&(r=t);if(n.length<3)return[n[r],n[r?0:1]];var e=r,i=new Point(n[e].x,n[e].y-1);r=0;var t=e?0:1,f=geo.cos(i,n[e],n[t]),o=dist(n[e],n[t]);for(++t;t<n.length;++t)if(e!=t){var u=geo.cos(i,n[e],n[t]),s=dist(n[e],n[t]);(f>u||u==f&&s>o)&&(r=t,f=u,o=s)}for(var a=[n[e]],c=e,v=-1;c!=v;){a.push(n[r]),v=0;for(var t=0;t<n.length;++t)if(e!=t&&r!=t){v=t,f=geo.cos(n[e],n[r],n[t]),o=dist(n[r],n[t]),++t;break}for(;t<n.length;++t)if(e!=t&&r!=t){var u=geo.cos(n[e],n[r],n[t]),s=dist(n[r],n[t]);(f>u||u==f&&s>o)&&(v=t,f=u,o=s)}e=r,r=v}return a};n.jarvis_march=_;var h=function(n){if(n.length<4)return n.slice();var t=find_min_y(n,0,n.length);n[0]=[n[t],n[t]=n[0]][0],t=0;var i=find_max_y(n,1,n.length);n[1]=[n[i],n[i]=n[1]][0],i=1;for(var f,o,u,s,a=2,c=e=n.length-1;c>=a;){var v=sin_sign(n[t],n[i],n[a]);if(v>0){var l=dist_pl(n[a],[n[t],n[i]]);(f===r||l>u)&&(f=a,u=l),++a}else if(0>v){n[a]=[n[c],n[c]=n[a]][0];var l=dist_pl(n[c],[n[t],n[i]]);(o===r||l>s)&&(o=c,s=l),--c}else o===e&&(o=c),a!=c&&(n[e]=[n[c],n[c]=n[e]][0]),n[a]=[n[e],n[e]=n[a]][0],--e,--c}var _=[];return _.push(n[t]),f!==r&&(n[f]=[n[2],n[2]=n[f]][0],f=2,g(n,3,c,t,i,f,_)),_.push(n[i]),o!==r&&(n[o]=[n[c+1],n[c+1]=n[o]][0],o=c+1,g(n,c+2,e,i,t,o,_)),_},g=function(n,t,e,i,f,o,u){for(var s,a,c,v,l=e,_=t;e>=t;)if(sin_sign(n[o],n[f],n[t])>0){var h=dist_pl(n[t],[n[o],n[f]]);(s===r||h>c)&&(s=t,c=h),++t}else if(sin_sign(n[i],n[o],n[t])>0){n[t]=[n[e],n[e]=n[t]][0];var h=dist_pl(n[e],[n[i],n[o]]);(a===r||h>v)&&(a=e,v=h),--e}else a===l&&(a=e),t!=e&&(n[l]=[n[e],n[e]=n[l]][0]),n[t]=[n[l],n[l]=n[t]][0],--l,--e;s!==r&&(n[s]=[n[_],n[_]=n[s]][0],s=_,g(n,_+1,e,o,f,s,u)),u.push(n[o]),a!==r&&(n[a]=[n[e+1],n[e+1]=n[a]][0],a=e+1,g(n,e+2,l,i,o,a,u))};n.quick_hull=h;var p=function(n){var r,t,e,i,f,o,u,s,a,c,v,l;return r=n[0],i=r[0],f=r[1],o=r[2],t=n[1],u=t[0],s=t[1],a=t[2],e=n[2],c=e[0],v=e[1],l=e[2],i*s*l+f*a*c+o*u*v-c*s*o-v*a*i-l*u*f};n.det3=p;var d=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vsub=d;var x=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=x;var y=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=y;var d=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=d;var k=function(n){var r=function(r,t,e){return n(r,t,e)>0};return r};n.__ccw__=k;var m=function(n){var r=function(r,t,e){return n(r,t,e)>=0};return r};n.__ccwc__=m;var b=function(n){var r=function(r,t,e){return 0===n(r,t,e)};return r};n.__colinear__=b;var w=function(n){var r=function(r,t,e){var i,f,o,u,s;if(s=e-t,2>=s)return!0;if(u=t,i=r[u],++u,f=r[u],++u,o=r[u],++u,3===s)return n(i,f,o);for(;;){if(!n(i,f,o))return!1;if(u===e)return u=t,i=r[u],n(f,o,i)?(++u,f=r[u],n(o,i,f)):!1;if(i=r[u],++u,!n(f,o,i))return!1;if(u===e)return u=t,f=r[u],n(o,i,f)?(++u,o=r[u],n(i,f,o)):!1;if(f=r[u],++u,!n(o,i,f))return!1;if(u===e)return u=t,o=r[u],n(i,f,o)?(++u,i=r[u],n(f,o,i)):!1;o=r[u],++u}};return r};n.__convex__=w;var q=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=q;var M=function(n){var r=function(r,t,e){return n(r,t,e)<0};return r};n.__cw__=M;var P=function(n){var r=function(r,t,e){return n(r,t,e)<=0};return r};n.__cwc__=P;var j=function(n){var r=function(r,t,e,i){var f,o,u,s,a,c,v,l,_;return f=r[0],o=r[1],u=t[0],s=t[1],a=e[0],c=e[1],v=i[0],l=i[1],_=v*v+l*l,n([[f-v,o-l,f*f+o*o-_],[u-v,s-l,u*u+s*s-_],[a-v,c-l,a*a+c*c-_]])>0};return r};n.__icc__=j;var z=function(n){var r=function(r,t,e,i){return n(t,e,r)&&n(e,i,r)&&n(i,t,r)};return r};n.__pit__=z;var A=function(n){var r=function(r,t,e,i,f){var o,u,s;for(s=0,o=r[e-1],u=r[t],++t;;){if(s+=n(i,f,o,u),++t,t===e)return s;if(o=r[t],s+=n(i,f,o,u),++t,t===e)return s;u=r[t]}};return r};n.__rc__=A;var B=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=B}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map