!function(n){"use strict";var r=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v,h,_,l;s=t.length;n:for(u=0;s>u;++u){for(i=+(0===u),f=t[i],a=t[u],v=h=f,o=1;s>o;++o)if(o!==i&&o!==u)if(c=t[o],_=n(f,a,c),_>0)_=n(a,v,c),0>_&&(v=c);else if(0>_)_=n(a,h,c),_>0&&(h=c);else if(l=r(f,a,c),0>l){e[u]=!1;continue n}v!==f&&h!==f&&n(v,h,a)<=0&&(e[u]=!1)}};return t};n.__chn2__=r;var t=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(s=t.length,i=0;s>i;++i){f=t[i];n:for(u=0;s>u;++u)if(u!==i){for(a=t[u],o=0;s>o;++o)if(o!==i&&o!==u&&(c=t[o],v=n(f,a,c),0>v||0===v&&r(f,a,c)<0))continue n;e[u]=!0}}};return t};n.__chn3__=t;var e=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(v=t.length,i=0;v>i;++i)if(e[i])for(f=t[i],u=0;v>u;++u)if(u!==i&&e[u])for(a=t[u],o=0;v>o;++o)if(o!==i&&o!==u&&e[o]&&(c=t[o],!n(f,a,c)))for(s=0;v>s;++s)s!==i&&s!==u&&s!==o&&e[s]&&r(t[s],f,a,c)&&(e[s]=!1)};return t};n.__chn4__=e;var i=function(n,r,t,e,i){for(var u=e;t>r;){u=Math.floor((t-r)/2)+r;var o=0>u-1?n.length-1:u-1,f=(u+1)%n.length,a=geo.cos(n[e],i,n[u]),c=geo.cos(n[e],i,n[o]),s=geo.cos(n[e],i,n[f]);if(c>a){if(s>a)return u;if(a==s&&D(i,n[u])<D(i,n[f]))return u;r=u+1}else{if(a==c&&s>a&&D(i,n[u])<D(i,n[o]))return u;t=u}}return u},u=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,e=n.length,u=Math.floor((e-t)/2)+t,o=sin_sign(n[0],n[1],r)<0?1:-1;e>t;){if(o*sin_sign(n[0],r,n[u])>0){if(o*sin_sign(n[0],r,n[(u+1)%n.length])<0){++u;break}t=u+1}else{if(o*sin_sign(n[0],r,n[u-1])>0)break;e=u}u=Math.floor((e-t)/2)+t}var f=i(n,0,u,0,r),a=i(n,u,n.length,0,r);0==a&&(a=[f,f=a][0]),sin_sign(n[f],n[a],r)>=0?n.splice(f+1,a-f-1,r):(n.splice(a+1,n.length-a-1,r),n.splice(0,f))},o=function(){};n.ch_online_add=u,n.ch_online_rm=o;var f=function(n){var r=function(r,t,e,i){var u,o,f;for(i.push(r[t]),i.push(r[t+1]),u=0,o=t+2;e>o;++o){for(f=r[o];u>=0&&n(i[u],i[u+1],f)<=0;)i.pop(),--u;i.push(f),++u}};return r};n.__grahamscan__=f;var a=function(n){var r=function(r,t,e,i){var u,o,f,a,c,s;for(o=r.length,f=[],f.push(r[t]),f.push(r[t+1]),i.push(r[t]),i.push(r[t+1]),c=0,s=0,u=t+2;e>u;++u){for(a=r[u];c>=0&&n(f[c],f[c+1],a)>=0;)f.pop(),--c;for(f.push(a),++c;s>=0&&n(i[s],i[s+1],a)<=0;)i.pop(),--s;i.push(a),++s}for(t=c;t>0;--t)i.push(f[t])};return r};n.__grahamscanmono__=a;var c=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(i=t.length,c=o=t[0],u=1;;){for(f=t[u],++u;i>u;++u)a=t[u],s=n(o,f,a),0===s?(v=r(o,f,a),0>v&&(f=a)):0>s&&(f=a);if(f===c)break;e.push(f),o=f,u=0}};return t};n.__jarvismarch__=c;var s=function(n,r){var t=function(e,i,u,o,f,a,c){var s,v,h,_,l,g,p,d,x,y;for(p=i-1,d=u-1,x=d,v=h=0,_=l=-1;d>=p;)y=e[p],s=n(o,f,y),0>s?((v>s||s===v&&r(y,e[_])<0)&&(_=p,v=s),++p):(s=n(f,a,y),0>s?(g=e[p],e[p]=e[d],e[d]=g,(h>s||s===h&&r(y,e[l])<0)&&(l=d,h=s),--d):(l===x&&(l=d),p!==d&&(g=e[x],e[x]=e[d],e[d]=g),g=e[p],e[p]=e[x],e[x]=g,--x,--d));-1!==_&&(g=e[_],e[_]=e[i],e[i]=g,t(e,i+1,p,o,g,f,c)),c.push(f),-1!==l&&(g=e[l],e[l]=e[p],e[p]=g,t(e,p+1,x,f,g,a,c))};return t};n.__quickhull__=s;var v=function(n){return function(r,t){var e;return e=n(r[0],t[0]),0!==e?e:n(r[1],t[1])}};n.bottomleft=v;var h=function(n){return function(r,t){var e;return e=n(t[0],r[0]),0!==e?e:n(r[1],t[1])}};n.bottomright=h;var _=function(n,r,t){return function(e,i,u,o){n(e(r,t,i[u]),i,u+1,o)}};n.__clocksort__=_;var l=function(n,r,t){return function(e,i){var u;return u=n(t,e,i),0!==u?u:r(t,e,i)}};n.__clockwise__=l;var g=function(n,r,t){return function(e,i){var u;return u=n(t,i,e),0!==u?u:r(t,e,i)}};n.__counterclockwise__=g;var p=function(n){return function(r,t){var e;return e=n(r[1],t[1]),0!==e?e:n(r[0],t[0])}};n.leftbottom=p;var d=function(n){return function(r,t){var e;return e=n(t[1],r[1]),0!==e?e:n(r[0],t[0])}};n.lefttop=d;var x=function(n){return function(r,t){var e;return e=n(r[1],t[1]),0!==e?e:n(t[0],r[0])}};n.rightbottom=x;var y=function(n){return function(r,t){var e;return e=n(t[1],r[1]),0!==e?e:n(t[0],r[0])}};n.righttop=y;var m=function(n){return function(r,t){var e;return e=n(r[0],t[0]),0!==e?e:n(t[1],r[1])}};n.topleft=m;var w=function(n){return function(r,t){var e;return e=n(t[0],r[0]),0!==e?e:n(t[1],r[1])}};n.topright=w;var b=function(){this.edge=null,this.iterator=null,this.data=null};b.prototype.edgecount=function(){var n,r;if(null===this.edge)return 0;for(n=this.edge.next,r=1;n!==this.edge;)++r,n=n.next;return r},n.DCELFace=b;var k=function(){this.origin=null,this.twin=null,this.next=null,this.face=null,this.iterator=null,this.data=null};k.prototype.prev=function(){var n;for(n=this.twin.next.twin;n.next!==this;)n=n.next.twin;return n},n.DCELHalfEdge=k;var E=function(n,r,t){this.vertices=n,this.edges=r,this.faces=t};E.prototype.isempty=function(){return 0===this.vertices.length&&0===this.edges.length&&0===this.faces.length},E.prototype.addvertex=function(n){n.iterator=this.vertices.unshift(n)},E.prototype.addedge=function(n){n.iterator=this.edges.unshift(n)},E.prototype.addface=function(n){n.iterator=this.faces.unshift(n)},E.prototype.removevertex=function(n){this.vertices.erase(n.iterator)},E.prototype.removeedge=function(n){this.edges.erase(n.iterator)},E.prototype.removeface=function(n){this.faces.erase(n.iterator)},n.DCELMesh=E;var M=function(){this.leaving=null,this.iterator=null,this.data=null};M.prototype.edgeto=function(n){var r;if(null===leaving)return null;if(this.leaving.twin.origin===n)return this.leaving;for(r=this.leaving.twin.next;r!==this.leaving;){if(r.twin.origin===n)return r;r=r.twin.next}return null},n.DCELVertex=M;var C=function(n,r,t){return K(n,r,t)/D(n,r)/D(r,t)};n.cosval=C;var D=function(n,r){return Math.sqrt(F(n,r))};n.dist=D;var L=function(n,r,t){return S(n,r,t)/D(n,r)/D(r,t)};n.sinval=L;var q=function(n,r){return function(t,e){return n(t[r],e[r])}};n.monotonic=q;var j=function(n){var r,t,e,i,u,o,f,a,c,s,v,h;return r=n[0],i=r[0],u=r[1],o=r[2],t=n[1],f=t[0],a=t[1],c=t[2],e=n[2],s=e[0],v=e[1],h=e[2],i*a*h+u*c*s+o*f*v-s*a*o-v*c*i-h*f*u};n.det3=j;var F=function(n,r){var t;return t=A(n,r),z(t,t)};n.scalar=F;var H=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vadd=H;var V=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=V;var z=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=z;var A=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=A;var B=function(n){var r=function(r,t,e){return n(r,t,e)>0};return r};n.__ccw__=B;var G=function(n){var r=function(r,t,e){return n(r,t,e)>=0};return r};n.__ccwc__=G;var I=function(n){var r=function(r,t,e){return 0===n(r,t,e)};return r};n.__colinear__=I;var J=function(n){var r=function(r,t,e){var i,u,o,f,a;if(a=e-t,2>=a)return!0;if(f=t,i=r[f],++f,u=r[f],++f,o=r[f],++f,3===a)return n(i,u,o);for(;;){if(!n(i,u,o))return!1;if(f===e)return f=t,i=r[f],n(u,o,i)?(++f,u=r[f],n(o,i,u)):!1;if(i=r[f],++f,!n(u,o,i))return!1;if(f===e)return f=t,u=r[f],n(o,i,u)?(++f,o=r[f],n(i,u,o)):!1;if(u=r[f],++f,!n(o,i,u))return!1;if(f===e)return f=t,o=r[f],n(i,u,o)?(++f,i=r[f],n(u,o,i)):!1;o=r[f],++f}};return r};n.__convex__=J;var K=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=K;var N=function(n){var r=function(r,t,e){return n(r,t,e)<0};return r};n.__cw__=N;var O=function(n){var r=function(r,t,e){return n(r,t,e)<=0};return r};n.__cwc__=O;var P=function(n){var r=function(r,t,e,i){var u,o,f,a,c,s,v,h,_;return u=r[0],o=r[1],f=t[0],a=t[1],c=e[0],s=e[1],v=i[0],h=i[1],_=v*v+h*h,n([[u-v,o-h,u*u+o*o-_],[f-v,a-h,f*f+a*a-_],[c-v,s-h,c*c+s*s-_]])>0};return r};n.__icc__=P;var Q=function(n){var r=function(r,t,e,i){return n(t,e,r)&&n(e,i,r)&&n(i,t,r)};return r};n.__pit__=Q;var R=function(n){var r=function(r,t,e,i,u){var o,f,a;for(a=0,o=r[e-1],f=r[t],++t;;){if(a+=n(i,u,o,f),++t,t===e)return a;if(o=r[t],a+=n(i,u,o,f),++t,t===e)return a;f=r[t]}};return r};n.__rc__=R;var S=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=S}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map