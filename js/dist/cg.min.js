!function(n){"use strict";var r=function(n,r){var t=function(t,i){var e,u,o,f,a,c,s,v,l,h,_;s=t.length;n:for(u=0;s>u;++u){for(e=+(0===u),f=t[e],a=t[u],v=l=f,o=1;s>o;++o)if(o!==e&&o!==u)if(c=t[o],h=n(f,a,c),h>0)h=n(a,v,c),0>h&&(v=c);else if(0>h)h=n(a,l,c),h>0&&(l=c);else if(_=r(f,a,c),0>_){i[u]=!1;continue n}v!==f&&l!==f&&n(v,l,a)<=0&&(i[u]=!1)}};return t};n.__chn2__=r;var t=function(n,r){var t=function(t,i){var e,u,o,f,a,c,s,v;for(s=t.length,e=0;s>e;++e){f=t[e];n:for(u=0;s>u;++u)if(u!==e){for(a=t[u],o=0;s>o;++o)if(o!==e&&o!==u&&(c=t[o],v=n(f,a,c),0>v||0===v&&r(f,a,c)<0))continue n;i[u]=!0}}};return t};n.__chn3__=t;var i=function(n,r){var t=function(t,i){var e,u,o,f,a,c,s,v;for(v=t.length,e=0;v>e;++e)if(i[e])for(f=t[e],u=0;v>u;++u)if(u!==e&&i[u])for(a=t[u],o=0;v>o;++o)if(o!==e&&o!==u&&i[o]&&(c=t[o],!n(f,a,c)))for(s=0;v>s;++s)s!==e&&s!==u&&s!==o&&i[s]&&r(t[s],f,a,c)&&(i[s]=!1)};return t};n.__chn4__=i;var e=function(n,r,t,i,e){for(var u=i;t>r;){u=Math.floor((t-r)/2)+r;var o=0>u-1?n.length-1:u-1,f=(u+1)%n.length,a=geo.cos(n[i],e,n[u]),c=geo.cos(n[i],e,n[o]),s=geo.cos(n[i],e,n[f]);if(c>a){if(s>a)return u;if(a==s&&D(e,n[u])<D(e,n[f]))return u;r=u+1}else{if(a==c&&s>a&&D(e,n[u])<D(e,n[o]))return u;t=u}}return u},u=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,i=n.length,u=Math.floor((i-t)/2)+t,o=sin_sign(n[0],n[1],r)<0?1:-1;i>t;){if(o*sin_sign(n[0],r,n[u])>0){if(o*sin_sign(n[0],r,n[(u+1)%n.length])<0){++u;break}t=u+1}else{if(o*sin_sign(n[0],r,n[u-1])>0)break;i=u}u=Math.floor((i-t)/2)+t}var f=e(n,0,u,0,r),a=e(n,u,n.length,0,r);0==a&&(a=[f,f=a][0]),sin_sign(n[f],n[a],r)>=0?n.splice(f+1,a-f-1,r):(n.splice(a+1,n.length-a-1,r),n.splice(0,f))},o=function(){};n.ch_online_add=u,n.ch_online_rm=o;var f=function(n){var r=function(r,t,i,e){var u,o,f;for(e.push(r[t]),e.push(r[t+1]),u=0,o=t+2;i>o;++o){for(f=r[o];u>=0&&n(e[u],e[u+1],f)<=0;)e.pop(),--u;e.push(f),++u}};return r};n.__grahamscan__=f;var a=function(n){var r=function(r,t,i,e){var u,o,f,a,c,s;for(o=r.length,f=[],f.push(r[t]),f.push(r[t+1]),e.push(r[t]),e.push(r[t+1]),c=0,s=0,u=t+2;i>u;++u){for(a=r[u];c>=0&&n(f[c],f[c+1],a)>=0;)f.pop(),--c;for(f.push(a),++c;s>=0&&n(e[s],e[s+1],a)<=0;)e.pop(),--s;e.push(a),++s}for(t=c;t>0;--t)e.push(f[t])};return r};n.__grahamscanmono__=a;var c=function(n,r){var t=function(t,i){var e,u,o,f,a,c,s,v;for(e=t.length,c=o=t[0],u=1;;){for(f=t[u],++u;e>u;++u)a=t[u],s=n(o,f,a),0===s?(v=r(o,f,a),0>v&&(f=a)):0>s&&(f=a);if(f===c)break;i.push(f),o=f,u=0}};return t};n.__jarvismarch__=c;var s=function(n,r){var t=function(i,e,u,o,f,a,c){var s,v,l,h,_,p,g,d,x,y;for(g=e-1,d=u-1,x=d,v=l=0,h=_=-1;d>=g;)y=i[g],s=n(o,f,y),0>s?((v>s||s===v&&r(y,i[h])<0)&&(h=g,v=s),++g):(s=n(f,a,y),0>s?(p=i[g],i[g]=i[d],i[d]=p,(l>s||s===l&&r(y,i[_])<0)&&(_=d,l=s),--d):(_===x&&(_=d),g!==d&&(p=i[x],i[x]=i[d],i[d]=p),p=i[g],i[g]=i[x],i[x]=p,--x,--d));-1!==h&&(p=i[h],i[h]=i[e],i[e]=p,t(i,e,split,o,p,f,c)),c.push(f),-1!==_&&(p=i[_],i[_]=i[split],i[split]=p,t(i,split+1,u,f,p,o,c))};return t};n.__quickhull__=s;var v=function(n){return function(r,t){var i;return i=n(r[0],t[0]),0!==i?i:n(r[1],t[1])}};n.bottomleft=v;var l=function(n){return function(r,t){var i;return i=n(t[0],r[0]),0!==i?i:n(r[1],t[1])}};n.bottomright=l;var h=function(n,r,t){return function(i,e,u,o){n(i(r,t,e[u]),e,u+1,o)}};n.__clocksort__=h;var _=function(n,r,t){return function(i,e){var u;return u=n(t,i,e),0!==u?u:r(t,i,e)}};n.__clockwise__=_;var p=function(n,r,t){return function(i,e){var u;return u=n(t,e,i),0!==u?u:r(t,i,e)}};n.__counterclockwise__=p;var g=function(n){return function(r,t){var i;return i=n(r[1],t[1]),0!==i?i:n(r[0],t[0])}};n.leftbottom=g;var d=function(n){return function(r,t){var i;return i=n(t[1],r[1]),0!==i?i:n(r[0],t[0])}};n.lefttop=d;var x=function(n){return function(r,t){var i;return i=n(r[1],t[1]),0!==i?i:n(t[0],r[0])}};n.rightbottom=x;var y=function(n){return function(r,t){var i;return i=n(t[1],r[1]),0!==i?i:n(t[0],r[0])}};n.righttop=y;var m=function(n){return function(r,t){var i;return i=n(r[0],t[0]),0!==i?i:n(t[1],r[1])}};n.topleft=m;var w=function(n){return function(r,t){var i;return i=n(t[0],r[0]),0!==i?i:n(t[1],r[1])}};n.topright=w;var b=function(){this.edge=null,this.iterator=null,this.data=null};b.prototype.edgecount=function(){var n,r;if(null===this.edge)return 0;for(n=this.edge.next,r=1;n!==this.edge;)++r,n=n.next;return r},n.DCELFace=b;var k=function(){this.origin=null,this.twin=null,this.next=null,this.face=null,this.iterator=null,this.data=null};k.prototype.prev=function(){var n;for(n=this.twin.next.twin;n.next!==this;)n=n.next.twin;return n},n.DCELHalfEdge=k;var E=function(n,r,t){this.vertices=n,this.edges=r,this.faces=t};E.prototype.isempty=function(){return 0===this.vertices.length&&0===this.edges.length&&0===this.faces.length},E.prototype.addvertex=function(n){n.iterator=this.vertices.unshift(n)},E.prototype.addedge=function(n){n.iterator=this.edges.unshift(n)},E.prototype.addface=function(n){n.iterator=this.faces.unshift(n)},E.prototype.removevertex=function(n){this.vertices.erase(n.iterator)},E.prototype.removeedge=function(n){this.edges.erase(n.iterator)},E.prototype.removeface=function(n){this.faces.erase(n.iterator)},n.DCELMesh=E;var M=function(){this.leaving=null,this.iterator=null,this.data=null};M.prototype.edgeto=function(n){var r;if(null===leaving)return null;if(this.leaving.twin.origin===n)return this.leaving;for(r=this.leaving.twin.next;r!==this.leaving;){if(r.twin.origin===n)return r;r=r.twin.next}return null},n.DCELVertex=M;var C=function(n,r,t){return K(n,r,t)/D(n,r)/D(r,t)};n.cosval=C;var D=function(n,r){return Math.sqrt(F(n,r))};n.dist=D;var L=function(n,r,t){return S(n,r,t)/D(n,r)/D(r,t)};n.sinval=L;var q=function(n,r){return function(t,i){return n(t[r],i[r])}};n.monotonic=q;var j=function(n){var r,t,i,e,u,o,f,a,c,s,v,l;return r=n[0],e=r[0],u=r[1],o=r[2],t=n[1],f=t[0],a=t[1],c=t[2],i=n[2],s=i[0],v=i[1],l=i[2],e*a*l+u*c*s+o*f*v-s*a*o-v*c*e-l*f*u};n.det3=j;var F=function(n,r){var t;return t=A(n,r),z(t,t)};n.scalar=F;var H=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vadd=H;var V=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=V;var z=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=z;var A=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=A;var B=function(n){var r=function(r,t,i){return n(r,t,i)>0};return r};n.__ccw__=B;var G=function(n){var r=function(r,t,i){return n(r,t,i)>=0};return r};n.__ccwc__=G;var I=function(n){var r=function(r,t,i){return 0===n(r,t,i)};return r};n.__colinear__=I;var J=function(n){var r=function(r,t,i){var e,u,o,f,a;if(a=i-t,2>=a)return!0;if(f=t,e=r[f],++f,u=r[f],++f,o=r[f],++f,3===a)return n(e,u,o);for(;;){if(!n(e,u,o))return!1;if(f===i)return f=t,e=r[f],n(u,o,e)?(++f,u=r[f],n(o,e,u)):!1;if(e=r[f],++f,!n(u,o,e))return!1;if(f===i)return f=t,u=r[f],n(o,e,u)?(++f,o=r[f],n(e,u,o)):!1;if(u=r[f],++f,!n(o,e,u))return!1;if(f===i)return f=t,o=r[f],n(e,u,o)?(++f,e=r[f],n(u,o,e)):!1;o=r[f],++f}};return r};n.__convex__=J;var K=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=K;var N=function(n){var r=function(r,t,i){return n(r,t,i)<0};return r};n.__cw__=N;var O=function(n){var r=function(r,t,i){return n(r,t,i)<=0};return r};n.__cwc__=O;var P=function(n){var r=function(r,t,i,e){var u,o,f,a,c,s,v,l,h;return u=r[0],o=r[1],f=t[0],a=t[1],c=i[0],s=i[1],v=e[0],l=e[1],h=v*v+l*l,n([[u-v,o-l,u*u+o*o-h],[f-v,a-l,f*f+a*a-h],[c-v,s-l,c*c+s*s-h]])>0};return r};n.__icc__=P;var Q=function(n){var r=function(r,t,i,e){return n(t,i,r)&&n(i,e,r)&&n(e,t,r)};return r};n.__pit__=Q;var R=function(n){var r=function(r,t,i,e,u){var o,f,a;for(a=0,o=r[i-1],f=r[t],++t;;){if(a+=n(e,u,o,f),++t,t===i)return a;if(o=r[t],a+=n(e,u,o,f),++t,t===i)return a;f=r[t]}};return r};n.__rc__=R;var S=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=S}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map