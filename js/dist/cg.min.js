!function(n,r){"use strict";var t=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v,l,h,_,g,p;for(s=t.length,u=0;s>u;++u){for(i=+(0===u),f=t[i],a=t[u],v=null,l=null,h=1,_=1,o=1;s>o;++o)o!==i&&o!==u&&(c=t[o],g=n(f,a,c),p=r(f,a,c),g>=0&&h>=p&&(v=c,h=p),0>=g&&_>=p&&(l=c,_=p));null!==v&&null!==l&&(e[u]=n(v,l,a)>0)}};return t};n.__chn2__=t;var i=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(s=t.length,i=0;s>i;++i){f=t[i];n:for(u=0;s>u;++u)if(u!==i){for(a=t[u],o=0;s>o;++o)if(o!==i&&o!==u&&(c=t[o],v=n(f,a,c),0>v||0===v&&r(f,a,c)<0))continue n;e[u]=!0}}};return t};n.__chn3__=i;var u=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(v=t.length,i=0;v>i;++i)if(e[i])for(f=t[i],u=0;v>u;++u)if(u!==i&&e[u])for(a=t[u],o=0;v>o;++o)if(o!==i&&o!==u&&e[o]&&(c=t[o],!n(f,a,c)))for(s=0;v>s;++s)s!==i&&s!==u&&s!==o&&e[s]&&r(t[s],f,a,c)&&(e[s]=!1)};return t};n.__chn4__=u;var o=function(n,r,t,e,i){for(var u=e;t>r;){u=Math.floor((t-r)/2)+r;var o=0>u-1?n.length-1:u-1,f=(u+1)%n.length,a=geo.cos(n[e],i,n[u]),c=geo.cos(n[e],i,n[o]),s=geo.cos(n[e],i,n[f]);if(c>a){if(s>a)return u;if(a==s&&j(i,n[u])<j(i,n[f]))return u;r=u+1}else{if(a==c&&s>a&&j(i,n[u])<j(i,n[o]))return u;t=u}}return u},f=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,e=n.length,i=Math.floor((e-t)/2)+t,u=sin_sign(n[0],n[1],r)<0?1:-1;e>t;){if(u*sin_sign(n[0],r,n[i])>0){if(u*sin_sign(n[0],r,n[(i+1)%n.length])<0){++i;break}t=i+1}else{if(u*sin_sign(n[0],r,n[i-1])>0)break;e=i}i=Math.floor((e-t)/2)+t}var f=o(n,0,i,0,r),a=o(n,i,n.length,0,r);0==a&&(a=[f,f=a][0]),sin_sign(n[f],n[a],r)>=0?n.splice(f+1,a-f-1,r):(n.splice(a+1,n.length-a-1,r),n.splice(0,f))},a=function(){};n.ch_online_add=f,n.ch_online_rm=a;var c=function(n){var r=function(r,t,e,i){var u,o,f;for(i.push(r[t]),i.push(r[t+1]),u=0,o=t+2;e>o;++o){for(f=r[o];n(i[u],i[u+1],f)<=0;)i.pop(),--u;i.push(f),++u}};return r};n.__grahamscan__=c;var s=function(n){var r=function(r,t,e,i){var u,o,f,a,c,s;for(o=r.length,f=[],f.push(r[t]),f.push(r[t+1]),i.push(r[t]),i.push(r[t+1]),c=0,s=0,u=t+2;e>u;++u){for(a=r[u];c>=0&&n(f[c],f[c+1],a)>=0;)f.pop(),--c;for(f.push(a),++c;s>=0&&n(i[s],i[s+1],a)<=0;)i.pop(),--s;i.push(a),++s}for(t=c;t>0;--t)i.push(f[t])};return r};n.__grahamscanmono__=s;var v=function(n){if(n.length<2)return n.slice();for(var r=0,t=1;t<n.length;++t)(n[t].x<n[r].x||n[t].x==n[r].x&&n[t].y<n[r].y)&&(r=t);if(n.length<3)return[n[r],n[r?0:1]];var e=r,i=new Point(n[e].x,n[e].y-1);r=0;var t=e?0:1,u=geo.cos(i,n[e],n[t]),o=j(n[e],n[t]);for(++t;t<n.length;++t)if(e!=t){var f=geo.cos(i,n[e],n[t]),a=j(n[e],n[t]);(u>f||f==u&&a>o)&&(r=t,u=f,o=a)}for(var c=[n[e]],s=e,v=-1;s!=v;){c.push(n[r]),v=0;for(var t=0;t<n.length;++t)if(e!=t&&r!=t){v=t,u=geo.cos(n[e],n[r],n[t]),o=j(n[r],n[t]),++t;break}for(;t<n.length;++t)if(e!=t&&r!=t){var f=geo.cos(n[e],n[r],n[t]),a=j(n[r],n[t]);(u>f||f==u&&a>o)&&(v=t,u=f,o=a)}e=r,r=v}return c};n.jarvismarch=v;var l=function(n){if(n.length<4)return n.slice();var t=find_min_y(n,0,n.length);n[0]=[n[t],n[t]=n[0]][0],t=0;var i=find_max_y(n,1,n.length);n[1]=[n[i],n[i]=n[1]][0],i=1;for(var u,o,f,a,c=2,s=e=n.length-1;s>=c;){var v=sin_sign(n[t],n[i],n[c]);if(v>0){var l=dist_pl(n[c],[n[t],n[i]]);(u===r||l>f)&&(u=c,f=l),++c}else if(0>v){n[c]=[n[s],n[s]=n[c]][0];var l=dist_pl(n[s],[n[t],n[i]]);(o===r||l>a)&&(o=s,a=l),--s}else o===e&&(o=s),c!=s&&(n[e]=[n[s],n[s]=n[e]][0]),n[c]=[n[e],n[e]=n[c]][0],--e,--s}var _=[];return _.push(n[t]),u!==r&&(n[u]=[n[2],n[2]=n[u]][0],u=2,h(n,3,s,t,i,u,_)),_.push(n[i]),o!==r&&(n[o]=[n[s+1],n[s+1]=n[o]][0],o=s+1,h(n,s+2,e,i,t,o,_)),_},h=function(n,t,e,i,u,o,f){for(var a,c,s,v,l=e,_=t;e>=t;)if(sin_sign(n[o],n[u],n[t])>0){var g=dist_pl(n[t],[n[o],n[u]]);(a===r||g>s)&&(a=t,s=g),++t}else if(sin_sign(n[i],n[o],n[t])>0){n[t]=[n[e],n[e]=n[t]][0];var g=dist_pl(n[e],[n[i],n[o]]);(c===r||g>v)&&(c=e,v=g),--e}else c===l&&(c=e),t!=e&&(n[l]=[n[e],n[e]=n[l]][0]),n[t]=[n[l],n[l]=n[t]][0],--l,--e;a!==r&&(n[a]=[n[_],n[_]=n[a]][0],a=_,h(n,_+1,e,o,u,a,f)),f.push(n[o]),c!==r&&(n[c]=[n[e+1],n[e+1]=n[c]][0],c=e+1,h(n,e+2,l,i,o,c,f))};n.quickhull=l;var _=function(n){return function(r,t){var e;return e=n(r[0],t[0]),0!==e?e:n(r[1],t[1])}};n.bottomleft=_;var g=function(n){return function(r,t){var e;return e=n(t[0],r[0]),0!==e?e:n(r[1],t[1])}};n.bottomright=g;var p=function(n,r,t){return function(e,i,u,o){n(e(r,t,i[u]),i,u+1,o)}};n.__clocksort__=p;var d=function(n,r,t){return function(e,i){var u;return u=n(t,e,i),0!==u?u:r(t,e,i)}};n.__clockwise__=d;var x=function(n,r,t){return function(e,i){var u;return u=n(t,i,e),0!==u?u:r(t,e,i)}};n.__counterclockwise__=x;var y=function(n){return function(r,t){var e;return e=n(r[1],t[1]),0!==e?e:n(r[0],t[0])}};n.leftbottom=y;var m=function(n){return function(r,t){var e;return e=n(t[1],r[1]),0!==e?e:n(r[0],t[0])}};n.lefttop=m;var w=function(n){return function(r,t){var e;return e=n(r[1],t[1]),0!==e?e:n(t[0],r[0])}};n.rightbottom=w;var b=function(n){return function(r,t){var e;return e=n(t[1],r[1]),0!==e?e:n(t[0],r[0])}};n.righttop=b;var k=function(n){return function(r,t){var e;return e=n(r[0],t[0]),0!==e?e:n(t[1],r[1])}};n.topleft=k;var E=function(n){return function(r,t){var e;return e=n(t[0],r[0]),0!==e?e:n(t[1],r[1])}};n.topright=E;var M=function(){this.edge=null,this.iterator=null,this.data=null};M.prototype.edgecount=function(){var n,r;if(null===this.edge)return 0;for(n=this.edge.next,r=1;n!==this.edge;)++r,n=n.next;return r},n.DCELFace=M;var C=function(){this.origin=null,this.twin=null,this.next=null,this.face=null,this.iterator=null,this.data=null};C.prototype.prev=function(){var n;for(n=this.twin.next.twin;n.next!==this;)n=n.next.twin;return n},n.DCELHalfEdge=C;var D=function(n,r,t){this.vertices=n,this.edges=r,this.faces=t};D.prototype.isempty=function(){return 0===this.vertices.length&&0===this.edges.length&&0===this.faces.length},D.prototype.addvertex=function(n){n.iterator=this.vertices.unshift(n)},D.prototype.addedge=function(n){n.iterator=this.edges.unshift(n)},D.prototype.addface=function(n){n.iterator=this.faces.unshift(n)},D.prototype.removevertex=function(n){this.vertices.erase(n.iterator)},D.prototype.removeedge=function(n){this.edges.erase(n.iterator)},D.prototype.removeface=function(n){this.faces.erase(n.iterator)},n.DCELMesh=D;var L=function(){this.leaving=null,this.iterator=null,this.data=null};L.prototype.edgeto=function(n){var r;if(null===leaving)return null;if(this.leaving.twin.origin===n)return this.leaving;for(r=this.leaving.twin.next;r!==this.leaving;){if(r.twin.origin===n)return r;r=r.twin.next}return null},n.DCELVertex=L;var q=function(n,r,t){return O(n,r,t)/j(n,r)/j(r,t)};n.cosval=q;var j=function(n,r){return Math.sqrt(V(n,r))};n.dist=j;var F=function(n,r,t){return W(n,r,t)/j(n,r)/j(r,t)};n.sinval=F;var H=function(n,r){return function(t,e){return n(t[r],e[r])}};n.monotonic=H;var P=function(n){var r,t,e,i,u,o,f,a,c,s,v,l;return r=n[0],i=r[0],u=r[1],o=r[2],t=n[1],f=t[0],a=t[1],c=t[2],e=n[2],s=e[0],v=e[1],l=e[2],i*a*l+u*c*s+o*f*v-s*a*o-v*c*i-l*f*u};n.det3=P;var V=function(n,r){var t;return t=G(n,r),B(t,t)};n.scalar=V;var z=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vadd=z;var A=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=A;var B=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=B;var G=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=G;var I=function(n){var r=function(r,t,e){return n(r,t,e)>0};return r};n.__ccw__=I;var J=function(n){var r=function(r,t,e){return n(r,t,e)>=0};return r};n.__ccwc__=J;var K=function(n){var r=function(r,t,e){return 0===n(r,t,e)};return r};n.__colinear__=K;var N=function(n){var r=function(r,t,e){var i,u,o,f,a;if(a=e-t,2>=a)return!0;if(f=t,i=r[f],++f,u=r[f],++f,o=r[f],++f,3===a)return n(i,u,o);for(;;){if(!n(i,u,o))return!1;if(f===e)return f=t,i=r[f],n(u,o,i)?(++f,u=r[f],n(o,i,u)):!1;if(i=r[f],++f,!n(u,o,i))return!1;if(f===e)return f=t,u=r[f],n(o,i,u)?(++f,o=r[f],n(i,u,o)):!1;if(u=r[f],++f,!n(o,i,u))return!1;if(f===e)return f=t,o=r[f],n(i,u,o)?(++f,i=r[f],n(u,o,i)):!1;o=r[f],++f}};return r};n.__convex__=N;var O=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=O;var Q=function(n){var r=function(r,t,e){return n(r,t,e)<0};return r};n.__cw__=Q;var R=function(n){var r=function(r,t,e){return n(r,t,e)<=0};return r};n.__cwc__=R;var S=function(n){var r=function(r,t,e,i){var u,o,f,a,c,s,v,l,h;return u=r[0],o=r[1],f=t[0],a=t[1],c=e[0],s=e[1],v=i[0],l=i[1],h=v*v+l*l,n([[u-v,o-l,u*u+o*o-h],[f-v,a-l,f*f+a*a-h],[c-v,s-l,c*c+s*s-h]])>0};return r};n.__icc__=S;var T=function(n){var r=function(r,t,e,i){return n(t,e,r)&&n(e,i,r)&&n(i,t,r)};return r};n.__pit__=T;var U=function(n){var r=function(r,t,e,i,u){var o,f,a;for(a=0,o=r[e-1],f=r[t],++t;;){if(a+=n(i,u,o,f),++t,t===e)return a;if(o=r[t],a+=n(i,u,o,f),++t,t===e)return a;f=r[t]}};return r};n.__rc__=U;var W=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=W}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map