!function(n,r){"use strict";var t=function(n){var r=function(r,t,i,e,u){var o,f,a;for(a=i;e>=a+r;a+=r)f=[],n(t,a,a+r,f),o.push(f);e>a&&(f=[],n(t,a,e,f),o.push(f))};return r};n.__chan__=t;var i=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s,_,h,l;v=t.length;n:for(u=0;v>u;++u){for(e=+(0===u),f=t[e],a=t[u],s=_=f,o=1;v>o;++o)if(o!==e&&o!==u)if(c=t[o],h=n(f,a,c),h>0)h=n(a,s,c),0>h&&(s=c);else if(0>h)h=n(a,_,c),h>0&&(_=c);else if(l=r(f,a,c),0>l){i[u]=!1;continue n}s!==f&&_!==f&&n(s,_,a)<=0&&(i[u]=!1)}};return t};n.__chn2__=i;var e=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s;for(v=t.length,e=0;v>e;++e){f=t[e];n:for(u=0;v>u;++u)if(u!==e){for(a=t[u],o=0;v>o;++o)if(o!==e&&o!==u&&(c=t[o],s=n(f,a,c),0>s||0===s&&r(f,a,c)<0))continue n;i[u]=!0}}};return t};n.__chn3__=e;var u=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s;for(s=t.length,e=0;s>e;++e)if(i[e])for(f=t[e],u=0;s>u;++u)if(u!==e&&i[u])for(a=t[u],o=0;s>o;++o)if(o!==e&&o!==u&&i[o]&&(c=t[o],!n(f,a,c)))for(v=0;s>v;++v)v!==e&&v!==u&&v!==o&&i[v]&&r(t[v],f,a,c)&&(i[v]=!1)};return t};n.__chn4__=u;var o=function(n,r,t,i,e){for(var u=i;t>r;){u=Math.floor((t-r)/2)+r;var o=0>u-1?n.length-1:u-1,f=(u+1)%n.length,a=geo.cos(n[i],e,n[u]),c=geo.cos(n[i],e,n[o]),v=geo.cos(n[i],e,n[f]);if(c>a){if(v>a)return u;if(a==v&&q(e,n[u])<q(e,n[f]))return u;r=u+1}else{if(a==c&&v>a&&q(e,n[u])<q(e,n[o]))return u;t=u}}return u},f=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,i=n.length,e=Math.floor((i-t)/2)+t,u=sin_sign(n[0],n[1],r)<0?1:-1;i>t;){if(u*sin_sign(n[0],r,n[e])>0){if(u*sin_sign(n[0],r,n[(e+1)%n.length])<0){++e;break}t=e+1}else{if(u*sin_sign(n[0],r,n[e-1])>0)break;i=e}e=Math.floor((i-t)/2)+t}var f=o(n,0,e,0,r),a=o(n,e,n.length,0,r);0==a&&(a=[f,f=a][0]),sin_sign(n[f],n[a],r)>=0?n.splice(f+1,a-f-1,r):(n.splice(a+1,n.length-a-1,r),n.splice(0,f))},a=function(n,r,t){};n.ch_online_add=f,n.ch_online_rm=a;var c=function(n){var r=function(r,t,i,e){var u,o,f;for(e.push(r[t]),e.push(r[t+1]),u=0,o=t+2;i>o;++o){for(f=r[o];u>=0&&n(e[u],e[u+1],f)<=0;)e.pop(),--u;e.push(f),++u}};return r};n.__grahamscan__=c;var v=function(n){var r=function(r,t,i,e){var u,o,f,a,c,v;for(o=r.length,f=[],f.push(r[t]),f.push(r[t+1]),e.push(r[t]),e.push(r[t+1]),c=0,v=0,u=t+2;i>u;++u){for(a=r[u];c>=0&&n(f[c],f[c+1],a)>=0;)f.pop(),--c;for(f.push(a),++c;v>=0&&n(e[v],e[v+1],a)<=0;)e.pop(),--v;e.push(a),++v}for(t=c;t>0;--t)e.push(f[t])};return r};n.__grahamscanmono__=v;var s=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s;for(e=t.length,c=o=t[0],u=1;;){for(f=t[u],++u;e>u;++u)a=t[u],v=n(o,f,a),0===v?(s=r(o,f,a),0>s&&(f=a)):0>v&&(f=a);if(f===c)break;i.push(f),o=f,u=0}};return t};n.__jarvismarch__=s;var _=function(n,r){var t=function(i,e,u,o,f,a,c){var v,s,_,h,l,p,g,d,x,y;for(g=e-1,d=u-1,x=d,s=_=0,h=l=-1;d>=g;)y=i[g],v=n(o,f,y),0>v?((s>v||v===s&&r(y,i[h])<0)&&(h=g,s=v),++g):(v=n(f,a,y),0>v?(p=i[g],i[g]=i[d],i[d]=p,(_>v||v===_&&r(y,i[l])<0)&&(l=d,_=v),--d):(l===x&&(l=d),g!==d&&(p=i[x],i[x]=i[d],i[d]=p),p=i[g],i[g]=i[x],i[x]=p,--x,--d));-1!==h&&(p=i[h],i[h]=i[e],i[e]=p,t(i,e+1,g,o,p,f,c)),c.push(f),-1!==l&&(p=i[l],i[l]=i[g],i[g]=p,t(i,g+1,x,f,p,a,c))};return t};n.__quickhull__=_;var h=function(n){return function(r,t){var i;return i=n(r[0],t[0]),0!==i?i:n(r[1],t[1])}};n.bottomleft=h;var l=function(n){return function(r,t){var i;return i=n(t[0],r[0]),0!==i?i:n(r[1],t[1])}};n.bottomright=l;var p=function(n,r,t){return function(i,e,u,o){n(i(r,t,e[u]),e,u+1,o)}};n.__clocksort__=p;var g=function(n,r,t){return function(i,e){var u;return u=n(t,i,e),0!==u?u:r(t,i,e)}};n.__clockwise__=g;var d=function(n,r,t){return function(i,e){var u;return u=n(t,e,i),0!==u?u:r(t,i,e)}};n.__counterclockwise__=d;var x=function(n){return function(r,t){var i;return i=n(r[1],t[1]),0!==i?i:n(r[0],t[0])}};n.leftbottom=x;var y=function(n){return function(r,t){var i;return i=n(t[1],r[1]),0!==i?i:n(r[0],t[0])}};n.lefttop=y;var m=function(n){return function(r,t){var i;return i=n(r[1],t[1]),0!==i?i:n(t[0],r[0])}};n.rightbottom=m;var w=function(n){return function(r,t){var i;return i=n(t[1],r[1]),0!==i?i:n(t[0],r[0])}};n.righttop=w;var b=function(n){return function(r,t){var i;return i=n(r[0],t[0]),0!==i?i:n(t[1],r[1])}};n.topleft=b;var k=function(n){return function(r,t){var i;return i=n(t[0],r[0]),0!==i?i:n(t[1],r[1])}};n.topright=k;var E=function(){this.edge=null,this.iterator=null,this.data=null};E.prototype.edgecount=function(){var n,r;if(null===this.edge)return 0;for(n=this.edge.next,r=1;n!==this.edge;)++r,n=n.next;return r},n.DCELFace=E;var M=function(){this.origin=null,this.twin=null,this.next=null,this.face=null,this.iterator=null,this.data=null};M.prototype.prev=function(){var n;for(n=this.twin.next.twin;n.next!==this;)n=n.next.twin;return n},n.DCELHalfEdge=M;var C=function(n,r,t){this.vertices=n,this.edges=r,this.faces=t};C.prototype.isempty=function(){return 0===this.vertices.length&&0===this.edges.length&&0===this.faces.length},C.prototype.addvertex=function(n){n.iterator=this.vertices.unshift(n)},C.prototype.addedge=function(n){n.iterator=this.edges.unshift(n)},C.prototype.addface=function(n){n.iterator=this.faces.unshift(n)},C.prototype.removevertex=function(n){this.vertices.erase(n.iterator)},C.prototype.removeedge=function(n){this.edges.erase(n.iterator)},C.prototype.removeface=function(n){this.faces.erase(n.iterator)},n.DCELMesh=C;var D=function(){this.leaving=null,this.iterator=null,this.data=null};D.prototype.edgeto=function(n){var r;if(null===leaving)return null;if(this.leaving.twin.origin===n)return this.leaving;for(r=this.leaving.twin.next;r!==this.leaving;){if(r.twin.origin===n)return r;r=r.twin.next}return null},n.DCELVertex=D;var L=function(n,r,t){return O(n,r,t)/q(n,r)/q(r,t)};n.cosval=L;var q=function(n,r){return Math.sqrt(V(n,r))};n.dist=q;var j=function(n,r,t){return W(n,r,t)/q(n,r)/q(r,t)};n.sinval=j;var F=function(n,r){return function(t,i){return n(t[r],i[r])}};n.monotonic=F;var H=function(n,r,t,i,e,u,o,f,a){return n*e*a+r*u*o+t*i*f-o*e*t-f*u*n-a*i*r};n.det3=H;var V=function(n,r){var t;return t=G(n,r),B(t,t)};n.scalar=V;var z=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vadd=z;var A=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=A;var B=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=B;var G=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=G;var I=function(n){var r=function(r,t,i){return n(r,t,i)>0};return r};n.__ccw__=I;var J=function(n){var r=function(r,t,i){return n(r,t,i)>=0};return r};n.__ccwc__=J;var K=function(n){var r=function(r,t,i){return 0===n(r,t,i)};return r};n.__colinear__=K;var N=function(n){var r=function(r,t,i){var e,u,o,f,a;if(a=i-t,2>=a)return!0;if(f=t,e=r[f],++f,u=r[f],++f,o=r[f],++f,3===a)return n(e,u,o);for(;;){if(!n(e,u,o))return!1;if(f===i)return f=t,e=r[f],n(u,o,e)?(++f,u=r[f],n(o,e,u)):!1;if(e=r[f],++f,!n(u,o,e))return!1;if(f===i)return f=t,u=r[f],n(o,e,u)?(++f,o=r[f],n(e,u,o)):!1;if(u=r[f],++f,!n(o,e,u))return!1;if(f===i)return f=t,o=r[f],n(e,u,o)?(++f,e=r[f],n(u,o,e)):!1;o=r[f],++f}};return r};n.__convex__=N;var O=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=O;var P=function(n){var r=function(r,t,i){return n(r,t,i)<0};return r};n.__cw__=P;var Q=function(n){var r=function(r,t,i){return n(r,t,i)<=0};return r};n.__cwc__=Q;var R=function(n){var r=function(r,t,i,e){var u,o,f,a,c,v,s,_,h;return u=r[0],o=r[1],f=t[0],a=t[1],c=i[0],v=i[1],s=e[0],_=e[1],h=s*s+_*_,n(u-s,o-_,u*u+o*o-h,f-s,a-_,f*f+a*a-h,c-s,v-_,c*c+v*v-h)};return r};n.__icc__=R;var S=function(n){var r=function(r,t,i,e,u){return n(t,i,r)&&n(i,e,r)&&n(e,u,r)&&n(u,t,r)};return r};n.__piq__=S;var T=function(n){var r=function(r,t,i,e){return n(t,i,r)&&n(i,e,r)&&n(e,t,r)};return r};n.__pit__=T;var U=function(n){var r=function(r,t,i,e,u){var o,f,a;for(a=0,o=r[i-1],f=r[t],++t;;){if(a+=n(e,u,o,f),++t,t===i)return a;if(o=r[t],a+=n(e,u,o,f),++t,t===i)return a;f=r[t]}};return r};n.__rc__=U;var W=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=W}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map