!function(r,t){"use strict";var i=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v,l,h,_;s=t.length;n:for(u=0;s>u;++u){for(i=+(0===u),f=t[i],a=t[u],v=l=f,o=1;s>o;++o)if(o!==i&&o!==u)if(c=t[o],h=n(f,a,c),h>0)h=n(a,v,c),0>h&&(v=c);else if(0>h)h=n(a,l,c),h>0&&(l=c);else if(_=r(f,a,c),0>_){e[u]=!1;continue n}v!==f&&l!==f&&n(v,l,a)<=0&&(e[u]=!1)}};return t};r.__chn2__=i;var u=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(s=t.length,i=0;s>i;++i){f=t[i];n:for(u=0;s>u;++u)if(u!==i){for(a=t[u],o=0;s>o;++o)if(o!==i&&o!==u&&(c=t[o],v=n(f,a,c),0>v||0===v&&r(f,a,c)<0))continue n;e[u]=!0}}};return t};r.__chn3__=u;var o=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(v=t.length,i=0;v>i;++i)if(e[i])for(f=t[i],u=0;v>u;++u)if(u!==i&&e[u])for(a=t[u],o=0;v>o;++o)if(o!==i&&o!==u&&e[o]&&(c=t[o],!n(f,a,c)))for(s=0;v>s;++s)s!==i&&s!==u&&s!==o&&e[s]&&r(t[s],f,a,c)&&(e[s]=!1)};return t};r.__chn4__=o;var f=function(n,r,t,e,i){for(var u=e;t>r;){u=Math.floor((t-r)/2)+r;var o=0>u-1?n.length-1:u-1,f=(u+1)%n.length,a=geo.cos(n[e],i,n[u]),c=geo.cos(n[e],i,n[o]),s=geo.cos(n[e],i,n[f]);if(c>a){if(s>a)return u;if(a==s&&F(i,n[u])<F(i,n[f]))return u;r=u+1}else{if(a==c&&s>a&&F(i,n[u])<F(i,n[o]))return u;t=u}}return u},a=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,e=n.length,i=Math.floor((e-t)/2)+t,u=sin_sign(n[0],n[1],r)<0?1:-1;e>t;){if(u*sin_sign(n[0],r,n[i])>0){if(u*sin_sign(n[0],r,n[(i+1)%n.length])<0){++i;break}t=i+1}else{if(u*sin_sign(n[0],r,n[i-1])>0)break;e=i}i=Math.floor((e-t)/2)+t}var o=f(n,0,i,0,r),a=f(n,i,n.length,0,r);0==a&&(a=[o,o=a][0]),sin_sign(n[o],n[a],r)>=0?n.splice(o+1,a-o-1,r):(n.splice(a+1,n.length-a-1,r),n.splice(0,o))},c=function(){};r.ch_online_add=a,r.ch_online_rm=c;var s=function(n){var r=function(r,t,e,i){var u,o,f;for(i.push(r[t]),i.push(r[t+1]),u=0,o=t+2;e>o;++o){for(f=r[o];n(i[u],i[u+1],f)<=0;)i.pop(),--u;i.push(f),++u}};return r};r.__grahamscan__=s;var v=function(n){var r=function(r,t,e,i){var u,o,f,a,c,s;for(o=r.length,f=[],f.push(r[t]),f.push(r[t+1]),i.push(r[t]),i.push(r[t+1]),c=0,s=0,u=t+2;e>u;++u){for(a=r[u];c>=0&&n(f[c],f[c+1],a)>=0;)f.pop(),--c;for(f.push(a),++c;s>=0&&n(i[s],i[s+1],a)<=0;)i.pop(),--s;i.push(a),++s}for(t=c;t>0;--t)i.push(f[t])};return r};r.__grahamscanmono__=v;var l=function(r,t){var e=function(e,i){var u,o,f,a,c,s,v;for(n=e.length,c=o=e[0],u=1;;){for(f=e[u],++u;u<n;++u)a=e[u],s=r(o,f,a),0===s?(v=t(o,f,a),0>v&&(f=a)):0>s&&(f=a);if(f===c)break;i.push(f),o=f,u=0}};return e};r.__jarvismarch__=l;var h=function(n){if(n.length<4)return n.slice();var r=find_min_y(n,0,n.length);n[0]=[n[r],n[r]=n[0]][0],r=0;var i=find_max_y(n,1,n.length);n[1]=[n[i],n[i]=n[1]][0],i=1;for(var u,o,f,a,c=2,s=e=n.length-1;s>=c;){var v=sin_sign(n[r],n[i],n[c]);if(v>0){var l=dist_pl(n[c],[n[r],n[i]]);(u===t||l>f)&&(u=c,f=l),++c}else if(0>v){n[c]=[n[s],n[s]=n[c]][0];var l=dist_pl(n[s],[n[r],n[i]]);(o===t||l>a)&&(o=s,a=l),--s}else o===e&&(o=s),c!=s&&(n[e]=[n[s],n[s]=n[e]][0]),n[c]=[n[e],n[e]=n[c]][0],--e,--s}var h=[];return h.push(n[r]),u!==t&&(n[u]=[n[2],n[2]=n[u]][0],u=2,_(n,3,s,r,i,u,h)),h.push(n[i]),o!==t&&(n[o]=[n[s+1],n[s+1]=n[o]][0],o=s+1,_(n,s+2,e,i,r,o,h)),h},_=function(n,r,e,i,u,o,f){for(var a,c,s,v,l=e,h=r;e>=r;)if(sin_sign(n[o],n[u],n[r])>0){var g=dist_pl(n[r],[n[o],n[u]]);(a===t||g>s)&&(a=r,s=g),++r}else if(sin_sign(n[i],n[o],n[r])>0){n[r]=[n[e],n[e]=n[r]][0];var g=dist_pl(n[e],[n[i],n[o]]);(c===t||g>v)&&(c=e,v=g),--e}else c===l&&(c=e),r!=e&&(n[l]=[n[e],n[e]=n[l]][0]),n[r]=[n[l],n[l]=n[r]][0],--l,--e;a!==t&&(n[a]=[n[h],n[h]=n[a]][0],a=h,_(n,h+1,e,o,u,a,f)),f.push(n[o]),c!==t&&(n[c]=[n[e+1],n[e+1]=n[c]][0],c=e+1,_(n,e+2,l,i,o,c,f))};r.quickhull=h;var g=function(n){return function(r,t){var e;return e=n(r[0],t[0]),0!==e?e:n(r[1],t[1])}};r.bottomleft=g;var p=function(n){return function(r,t){var e;return e=n(t[0],r[0]),0!==e?e:n(r[1],t[1])}};r.bottomright=p;var d=function(n,r,t){return function(e,i,u,o){n(e(r,t,i[u]),i,u+1,o)}};r.__clocksort__=d;var x=function(n,r,t){return function(e,i){var u;return u=n(t,e,i),0!==u?u:r(t,e,i)}};r.__clockwise__=x;var y=function(n,r,t){return function(e,i){var u;return u=n(t,i,e),0!==u?u:r(t,e,i)}};r.__counterclockwise__=y;var m=function(n){return function(r,t){var e;return e=n(r[1],t[1]),0!==e?e:n(r[0],t[0])}};r.leftbottom=m;var w=function(n){return function(r,t){var e;return e=n(t[1],r[1]),0!==e?e:n(r[0],t[0])}};r.lefttop=w;var b=function(n){return function(r,t){var e;return e=n(r[1],t[1]),0!==e?e:n(t[0],r[0])}};r.rightbottom=b;var k=function(n){return function(r,t){var e;return e=n(t[1],r[1]),0!==e?e:n(t[0],r[0])}};r.righttop=k;var E=function(n){return function(r,t){var e;return e=n(r[0],t[0]),0!==e?e:n(t[1],r[1])}};r.topleft=E;var M=function(n){return function(r,t){var e;return e=n(t[0],r[0]),0!==e?e:n(t[1],r[1])}};r.topright=M;var C=function(){this.edge=null,this.iterator=null,this.data=null};C.prototype.edgecount=function(){var n,r;if(null===this.edge)return 0;for(n=this.edge.next,r=1;n!==this.edge;)++r,n=n.next;return r},r.DCELFace=C;var D=function(){this.origin=null,this.twin=null,this.next=null,this.face=null,this.iterator=null,this.data=null};D.prototype.prev=function(){var n;for(n=this.twin.next.twin;n.next!==this;)n=n.next.twin;return n},r.DCELHalfEdge=D;var L=function(n,r,t){this.vertices=n,this.edges=r,this.faces=t};L.prototype.isempty=function(){return 0===this.vertices.length&&0===this.edges.length&&0===this.faces.length},L.prototype.addvertex=function(n){n.iterator=this.vertices.unshift(n)},L.prototype.addedge=function(n){n.iterator=this.edges.unshift(n)},L.prototype.addface=function(n){n.iterator=this.faces.unshift(n)},L.prototype.removevertex=function(n){this.vertices.erase(n.iterator)},L.prototype.removeedge=function(n){this.edges.erase(n.iterator)},L.prototype.removeface=function(n){this.faces.erase(n.iterator)},r.DCELMesh=L;var q=function(){this.leaving=null,this.iterator=null,this.data=null};q.prototype.edgeto=function(n){var r;if(null===leaving)return null;if(this.leaving.twin.origin===n)return this.leaving;for(r=this.leaving.twin.next;r!==this.leaving;){if(r.twin.origin===n)return r;r=r.twin.next}return null},r.DCELVertex=q;var j=function(n,r,t){return Q(n,r,t)/F(n,r)/F(r,t)};r.cosval=j;var F=function(n,r){return Math.sqrt(A(n,r))};r.dist=F;var H=function(n,r,t){return X(n,r,t)/F(n,r)/F(r,t)};r.sinval=H;var V=function(n,r){return function(t,e){return n(t[r],e[r])}};r.monotonic=V;var z=function(n){var r,t,e,i,u,o,f,a,c,s,v,l;return r=n[0],i=r[0],u=r[1],o=r[2],t=n[1],f=t[0],a=t[1],c=t[2],e=n[2],s=e[0],v=e[1],l=e[2],i*a*l+u*c*s+o*f*v-s*a*o-v*c*i-l*f*u};r.det3=z;var A=function(n,r){var t;return t=J(n,r),I(t,t)};r.scalar=A;var B=function(n,r){return[n[0]+r[0],n[1]+r[1]]};r.vadd=B;var G=function(n,r){return n[0]*r[1]-n[1]*r[0]};r.vcross=G;var I=function(n,r){return n[0]*r[0]+n[1]*r[1]};r.vdot=I;var J=function(n,r){return[n[0]-r[0],n[1]-r[1]]};r.vsub=J;var K=function(n){var r=function(r,t,e){return n(r,t,e)>0};return r};r.__ccw__=K;var N=function(n){var r=function(r,t,e){return n(r,t,e)>=0};return r};r.__ccwc__=N;var O=function(n){var r=function(r,t,e){return 0===n(r,t,e)};return r};r.__colinear__=O;var P=function(n){var r=function(r,t,e){var i,u,o,f,a;if(a=e-t,2>=a)return!0;if(f=t,i=r[f],++f,u=r[f],++f,o=r[f],++f,3===a)return n(i,u,o);for(;;){if(!n(i,u,o))return!1;if(f===e)return f=t,i=r[f],n(u,o,i)?(++f,u=r[f],n(o,i,u)):!1;if(i=r[f],++f,!n(u,o,i))return!1;if(f===e)return f=t,u=r[f],n(o,i,u)?(++f,o=r[f],n(i,u,o)):!1;if(u=r[f],++f,!n(o,i,u))return!1;if(f===e)return f=t,o=r[f],n(i,u,o)?(++f,i=r[f],n(u,o,i)):!1;o=r[f],++f}};return r};r.__convex__=P;var Q=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};r.cossign=Q;var R=function(n){var r=function(r,t,e){return n(r,t,e)<0};return r};r.__cw__=R;var S=function(n){var r=function(r,t,e){return n(r,t,e)<=0};return r};r.__cwc__=S;var T=function(n){var r=function(r,t,e,i){var u,o,f,a,c,s,v,l,h;return u=r[0],o=r[1],f=t[0],a=t[1],c=e[0],s=e[1],v=i[0],l=i[1],h=v*v+l*l,n([[u-v,o-l,u*u+o*o-h],[f-v,a-l,f*f+a*a-h],[c-v,s-l,c*c+s*s-h]])>0};return r};r.__icc__=T;var U=function(n){var r=function(r,t,e,i){return n(t,e,r)&&n(e,i,r)&&n(i,t,r)};return r};r.__pit__=U;var W=function(n){var r=function(r,t,e,i,u){var o,f,a;for(a=0,o=r[e-1],f=r[t],++t;;){if(a+=n(i,u,o,f),++t,t===e)return a;if(o=r[t],a+=n(i,u,o,f),++t,t===e)return a;f=r[t]}};return r};r.__rc__=W;var X=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};r.sinsign=X}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map