!function(n){"use strict";var r=function(n){var r=function(r,t,i,e){var u,o,f;for(f=i;e>=f+r;f+=r)o=[],n(t,f,f+r,o),u.push(o);e>f&&(o=[],n(t,f,e,o),u.push(o))};return r};n.__chan__=r;var t=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s,h,_,l;v=t.length;n:for(u=0;v>u;++u){for(e=+(0===u),f=t[e],a=t[u],s=h=f,o=1;v>o;++o)if(o!==e&&o!==u)if(c=t[o],_=n(f,a,c),_>0)_=n(a,s,c),0>_&&(s=c);else if(0>_)_=n(a,h,c),_>0&&(h=c);else if(l=r(f,a,c),0>l){i[u]=!1;continue n}s!==f&&h!==f&&n(s,h,a)<=0&&(i[u]=!1)}};return t};n.__chn2__=t;var i=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s;for(v=t.length,e=0;v>e;++e){f=t[e];n:for(u=0;v>u;++u)if(u!==e){for(a=t[u],o=0;v>o;++o)if(o!==e&&o!==u&&(c=t[o],s=n(f,a,c),0>s||0===s&&r(f,a,c)<0))continue n;i[u]=!0}}};return t};n.__chn3__=i;var e=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s;for(s=t.length,e=0;s>e;++e)if(i[e])for(f=t[e],u=0;s>u;++u)if(u!==e&&i[u])for(a=t[u],o=0;s>o;++o)if(o!==e&&o!==u&&i[o]&&(c=t[o],!n(f,a,c)))for(v=0;s>v;++v)v!==e&&v!==u&&v!==o&&i[v]&&r(t[v],f,a,c)&&(i[v]=!1)};return t};n.__chn4__=e;var u=function(n,r,t,i,e){for(var u=i;t>r;){u=Math.floor((t-r)/2)+r;var o=0>u-1?n.length-1:u-1,f=(u+1)%n.length,a=geo.cos(n[i],e,n[u]),c=geo.cos(n[i],e,n[o]),v=geo.cos(n[i],e,n[f]);if(c>a){if(v>a)return u;if(a==v&&L(e,n[u])<L(e,n[f]))return u;r=u+1}else{if(a==c&&v>a&&L(e,n[u])<L(e,n[o]))return u;t=u}}return u},o=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,i=n.length,e=Math.floor((i-t)/2)+t,o=sin_sign(n[0],n[1],r)<0?1:-1;i>t;){if(o*sin_sign(n[0],r,n[e])>0){if(o*sin_sign(n[0],r,n[(e+1)%n.length])<0){++e;break}t=e+1}else{if(o*sin_sign(n[0],r,n[e-1])>0)break;i=e}e=Math.floor((i-t)/2)+t}var f=u(n,0,e,0,r),a=u(n,e,n.length,0,r);0==a&&(a=[f,f=a][0]),sin_sign(n[f],n[a],r)>=0?n.splice(f+1,a-f-1,r):(n.splice(a+1,n.length-a-1,r),n.splice(0,f))},f=function(){};n.ch_online_add=o,n.ch_online_rm=f;var a=function(n){var r=function(r,t,i,e){var u,o,f;for(e.push(r[t]),e.push(r[t+1]),u=0,o=t+2;i>o;++o){for(f=r[o];u>=0&&n(e[u],e[u+1],f)<=0;)e.pop(),--u;e.push(f),++u}};return r};n.__grahamscan__=a;var c=function(n){var r=function(r,t,i,e){var u,o,f,a,c,v;for(o=r.length,f=[],f.push(r[t]),f.push(r[t+1]),e.push(r[t]),e.push(r[t+1]),c=0,v=0,u=t+2;i>u;++u){for(a=r[u];c>=0&&n(f[c],f[c+1],a)>=0;)f.pop(),--c;for(f.push(a),++c;v>=0&&n(e[v],e[v+1],a)<=0;)e.pop(),--v;e.push(a),++v}for(t=c;t>0;--t)e.push(f[t])};return r};n.__grahamscanmono__=c;var v=function(n,r){var t=function(t,i){var e,u,o,f,a,c,v,s;for(e=t.length,c=o=t[0],u=1;;){for(f=t[u],++u;e>u;++u)a=t[u],v=n(o,f,a),0===v?(s=r(o,f,a),0>s&&(f=a)):0>v&&(f=a);if(f===c)break;i.push(f),o=f,u=0}};return t};n.__jarvismarch__=v;var s=function(n,r){var t=function(i,e,u,o,f,a,c){var v,s,h,_,l,p,g,d,x,y;for(g=e-1,d=u-1,x=d,s=h=0,_=l=-1;d>=g;)y=i[g],v=n(o,f,y),0>v?((s>v||v===s&&r(y,i[_])<0)&&(_=g,s=v),++g):(v=n(f,a,y),0>v?(p=i[g],i[g]=i[d],i[d]=p,(h>v||v===h&&r(y,i[l])<0)&&(l=d,h=v),--d):(l===x&&(l=d),g!==d&&(p=i[x],i[x]=i[d],i[d]=p),p=i[g],i[g]=i[x],i[x]=p,--x,--d));-1!==_&&(p=i[_],i[_]=i[e],i[e]=p,t(i,e+1,g,o,p,f,c)),c.push(f),-1!==l&&(p=i[l],i[l]=i[g],i[g]=p,t(i,g+1,x,f,p,a,c))};return t};n.__quickhull__=s;var h=function(n){return function(r,t){var i;return i=n(r[0],t[0]),0!==i?i:n(r[1],t[1])}};n.bottomleft=h;var _=function(n){return function(r,t){var i;return i=n(t[0],r[0]),0!==i?i:n(r[1],t[1])}};n.bottomright=_;var l=function(n,r,t){return function(i,e,u,o){n(i(r,t,e[u]),e,u+1,o)}};n.__clocksort__=l;var p=function(n,r,t){return function(i,e){var u;return u=n(t,i,e),0!==u?u:r(t,i,e)}};n.__clockwise__=p;var g=function(n,r,t){return function(i,e){var u;return u=n(t,e,i),0!==u?u:r(t,i,e)}};n.__counterclockwise__=g;var d=function(n){return function(r,t){var i;return i=n(r[1],t[1]),0!==i?i:n(r[0],t[0])}};n.leftbottom=d;var x=function(n){return function(r,t){var i;return i=n(t[1],r[1]),0!==i?i:n(r[0],t[0])}};n.lefttop=x;var y=function(n){return function(r,t){var i;return i=n(r[1],t[1]),0!==i?i:n(t[0],r[0])}};n.rightbottom=y;var m=function(n){return function(r,t){var i;return i=n(t[1],r[1]),0!==i?i:n(t[0],r[0])}};n.righttop=m;var w=function(n){return function(r,t){var i;return i=n(r[0],t[0]),0!==i?i:n(t[1],r[1])}};n.topleft=w;var b=function(n){return function(r,t){var i;return i=n(t[0],r[0]),0!==i?i:n(t[1],r[1])}};n.topright=b;var k=function(){this.edge=null,this.iterator=null,this.data=null};k.prototype.edgecount=function(){var n,r;if(null===this.edge)return 0;for(n=this.edge.next,r=1;n!==this.edge;)++r,n=n.next;return r},n.DCELFace=k;var E=function(){this.origin=null,this.twin=null,this.next=null,this.face=null,this.iterator=null,this.data=null};E.prototype.prev=function(){var n;for(n=this.twin.next.twin;n.next!==this;)n=n.next.twin;return n},n.DCELHalfEdge=E;var M=function(n,r,t){this.vertices=n,this.edges=r,this.faces=t};M.prototype.isempty=function(){return 0===this.vertices.length&&0===this.edges.length&&0===this.faces.length},M.prototype.addvertex=function(n){n.iterator=this.vertices.unshift(n)},M.prototype.addedge=function(n){n.iterator=this.edges.unshift(n)},M.prototype.addface=function(n){n.iterator=this.faces.unshift(n)},M.prototype.removevertex=function(n){this.vertices.erase(n.iterator)},M.prototype.removeedge=function(n){this.edges.erase(n.iterator)},M.prototype.removeface=function(n){this.faces.erase(n.iterator)},n.DCELMesh=M;var C=function(){this.leaving=null,this.iterator=null,this.data=null};C.prototype.edgeto=function(n){var r;if(null===leaving)return null;if(this.leaving.twin.origin===n)return this.leaving;for(r=this.leaving.twin.next;r!==this.leaving;){if(r.twin.origin===n)return r;r=r.twin.next}return null},n.DCELVertex=C;var D=function(n,r,t){return N(n,r,t)/L(n,r)/L(r,t)};n.cosval=D;var L=function(n,r){return Math.sqrt(H(n,r))};n.dist=L;var q=function(n,r,t){return T(n,r,t)/L(n,r)/L(r,t)};n.sinval=q;var j=function(n,r){return function(t,i){return n(t[r],i[r])}};n.monotonic=j;var F=function(n){var r,t,i,e,u,o,f,a,c,v,s,h;return r=n[0],e=r[0],u=r[1],o=r[2],t=n[1],f=t[0],a=t[1],c=t[2],i=n[2],v=i[0],s=i[1],h=i[2],e*a*h+u*c*v+o*f*s-v*a*o-s*c*e-h*f*u};n.det3=F;var H=function(n,r){var t;return t=B(n,r),A(t,t)};n.scalar=H;var V=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vadd=V;var z=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=z;var A=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=A;var B=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=B;var G=function(n){var r=function(r,t,i){return n(r,t,i)>0};return r};n.__ccw__=G;var I=function(n){var r=function(r,t,i){return n(r,t,i)>=0};return r};n.__ccwc__=I;var J=function(n){var r=function(r,t,i){return 0===n(r,t,i)};return r};n.__colinear__=J;var K=function(n){var r=function(r,t,i){var e,u,o,f,a;if(a=i-t,2>=a)return!0;if(f=t,e=r[f],++f,u=r[f],++f,o=r[f],++f,3===a)return n(e,u,o);for(;;){if(!n(e,u,o))return!1;if(f===i)return f=t,e=r[f],n(u,o,e)?(++f,u=r[f],n(o,e,u)):!1;if(e=r[f],++f,!n(u,o,e))return!1;if(f===i)return f=t,u=r[f],n(o,e,u)?(++f,o=r[f],n(e,u,o)):!1;if(u=r[f],++f,!n(o,e,u))return!1;if(f===i)return f=t,o=r[f],n(e,u,o)?(++f,e=r[f],n(u,o,e)):!1;o=r[f],++f}};return r};n.__convex__=K;var N=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=N;var O=function(n){var r=function(r,t,i){return n(r,t,i)<0};return r};n.__cw__=O;var P=function(n){var r=function(r,t,i){return n(r,t,i)<=0};return r};n.__cwc__=P;var Q=function(n){var r=function(r,t,i,e){var u,o,f,a,c,v,s,h,_;return u=r[0],o=r[1],f=t[0],a=t[1],c=i[0],v=i[1],s=e[0],h=e[1],_=s*s+h*h,n([[u-s,o-h,u*u+o*o-_],[f-s,a-h,f*f+a*a-_],[c-s,v-h,c*c+v*v-_]])>0};return r};n.__icc__=Q;var R=function(n){var r=function(r,t,i,e){return n(t,i,r)&&n(i,e,r)&&n(e,t,r)};return r};n.__pit__=R;var S=function(n){var r=function(r,t,i,e,u){var o,f,a;for(a=0,o=r[i-1],f=r[t],++t;;){if(a+=n(e,u,o,f),++t,t===i)return a;if(o=r[t],a+=n(e,u,o,f),++t,t===i)return a;f=r[t]}};return r};n.__rc__=S;var T=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=T}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map