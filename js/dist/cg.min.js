!function(n,r){"use strict";var t=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v,l,_,h,g,p;for(s=t.length,u=0;s>u;++u)for(i=0;s>i;++i)if(u!==i){for(f=t[i],a=t[u],v=null,l=null,_=1,h=1,o=0;s>o;++o)o!==i&&o!==u&&(c=t[o],g=n(f,a,c),p=r(f,a,c),g>=0&&_>=p&&(v=c,_=p),0>=g&&h>=p&&(l=c,h=p));null!==v&&null!==l&&(e[u]=n(v,l,a)>0);break}};return t};n.__chn2__=t;var i=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(s=t.length,i=0;s>i;++i){f=t[i];n:for(u=0;s>u;++u)if(u!==i){for(a=t[u],o=0;s>o;++o)if(o!==i&&o!==u&&(c=t[o],v=n(f,a,c),0>v||0===v&&r(f,a,c)<0))continue n;e[u]=!0}}};return t};n.__chn3__=i;var u=function(n,r){var t=function(t,e){var i,u,o,f,a,c,s,v;for(v=t.length,i=0;v>i;++i)if(e[i])for(f=t[i],u=0;v>u;++u)if(u!==i&&e[u])for(a=t[u],o=0;v>o;++o)if(o!==i&&o!==u&&e[o]&&(c=t[o],!n(f,a,c)))for(s=0;v>s;++s)s!==i&&s!==u&&s!==o&&e[s]&&r(t[s],f,a,c)&&(e[s]=!1)};return t};n.__chn4__=u;var o=function(n,r,t,e,i){for(var u=e;t>r;){u=Math.floor((t-r)/2)+r;var o=0>u-1?n.length-1:u-1,f=(u+1)%n.length,a=geo.cos(n[e],i,n[u]),c=geo.cos(n[e],i,n[o]),s=geo.cos(n[e],i,n[f]);if(c>a){if(s>a)return u;if(a==s&&x(i,n[u])<x(i,n[f]))return u;r=u+1}else{if(a==c&&s>a&&x(i,n[u])<x(i,n[o]))return u;t=u}}return u},f=function(n,r){if(0==n.length)return void n.push(r);if(1==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):n.push(r));if(2==n.length)return void(r.x<n[0]||r.x==n[0]&&r.y<n[0].y?n.splice(0,0,r):sin_sign(n[0],n[1],r)>0?n.splice(1,0,r):n.push(r));for(var t=1,e=n.length,i=Math.floor((e-t)/2)+t,u=sin_sign(n[0],n[1],r)<0?1:-1;e>t;){if(u*sin_sign(n[0],r,n[i])>0){if(u*sin_sign(n[0],r,n[(i+1)%n.length])<0){++i;break}t=i+1}else{if(u*sin_sign(n[0],r,n[i-1])>0)break;e=i}i=Math.floor((e-t)/2)+t}var f=o(n,0,i,0,r),a=o(n,i,n.length,0,r);0==a&&(a=[f,f=a][0]),sin_sign(n[f],n[a],r)>=0?n.splice(f+1,a-f-1,r):(n.splice(a+1,n.length-a-1,r),n.splice(0,f))},a=function(){};n.ch_online_add=f,n.ch_online_rm=a;var c=function(n){n.length<2||s(n)};n.ch_sort=c;var s=function(n){for(var r=0,t=1;t<n.length;++t)(n[t].x<n[r].x||n[t].x==n[r].x&&n[t].y<n[r].y)&&(r=t);n[0]=[n[r],n[r]=n[0]][0];var e=0,i=new Point(n[e].x,n[e].y-1);shuffle(n,1,n.length),quicksort(n,1,n.length,function(r,t){var u=geo.cos(i,n[e],r),o=geo.cos(i,n[e],t);return o>u||u==o&&x(n[e],r)>x(n[e],t)})},v=function(n){if(n.length<2)return n;s(n);for(var r=[0,1],t=2;t<n.length;++t){for(;sin_sign(n[r[r.length-2]],n[r[r.length-1]],n[t])>0;)r.pop();r.push(t)}for(var e=[],t=0;t<r.length;++t)e.push(n[r[t]]);return e};n.graham_sort=s,n.graham_scan=v;var l=function(n){if(n.length<2)return n;shuffle(n,0,n.length),quicksort(n,0,n.length,function(n,r){return n.x<r.x});for(var r=[0,1],t=[0,1],e=2;e<n.length;++e){for(;r.length>1&&sin_sign(n[r[r.length-2]],n[r[r.length-1]],n[e])<=0;)r.pop();for(r.push(e);t.length>1&&sin_sign(n[t[t.length-2]],n[t[t.length-1]],n[e])>=0;)t.pop();t.push(e)}for(var i=[],e=0;e<t.length;++e)i.push(n[t[e]]);for(var e=r.length-2;e>0;--e)i.push(n[r[e]]);return i};n.graham_scan_mono=l;var _=function(n){if(n.length<2)return n.slice();for(var r=0,t=1;t<n.length;++t)(n[t].x<n[r].x||n[t].x==n[r].x&&n[t].y<n[r].y)&&(r=t);if(n.length<3)return[n[r],n[r?0:1]];var e=r,i=new Point(n[e].x,n[e].y-1);r=0;var t=e?0:1,u=geo.cos(i,n[e],n[t]),o=x(n[e],n[t]);for(++t;t<n.length;++t)if(e!=t){var f=geo.cos(i,n[e],n[t]),a=x(n[e],n[t]);(u>f||f==u&&a>o)&&(r=t,u=f,o=a)}for(var c=[n[e]],s=e,v=-1;s!=v;){c.push(n[r]),v=0;for(var t=0;t<n.length;++t)if(e!=t&&r!=t){v=t,u=geo.cos(n[e],n[r],n[t]),o=x(n[r],n[t]),++t;break}for(;t<n.length;++t)if(e!=t&&r!=t){var f=geo.cos(n[e],n[r],n[t]),a=x(n[r],n[t]);(u>f||f==u&&a>o)&&(v=t,u=f,o=a)}e=r,r=v}return c};n.jarvis_march=_;var h=function(n){if(n.length<4)return n.slice();var t=find_min_y(n,0,n.length);n[0]=[n[t],n[t]=n[0]][0],t=0;var i=find_max_y(n,1,n.length);n[1]=[n[i],n[i]=n[1]][0],i=1;for(var u,o,f,a,c=2,s=e=n.length-1;s>=c;){var v=sin_sign(n[t],n[i],n[c]);if(v>0){var l=dist_pl(n[c],[n[t],n[i]]);(u===r||l>f)&&(u=c,f=l),++c}else if(0>v){n[c]=[n[s],n[s]=n[c]][0];var l=dist_pl(n[s],[n[t],n[i]]);(o===r||l>a)&&(o=s,a=l),--s}else o===e&&(o=s),c!=s&&(n[e]=[n[s],n[s]=n[e]][0]),n[c]=[n[e],n[e]=n[c]][0],--e,--s}var _=[];return _.push(n[t]),u!==r&&(n[u]=[n[2],n[2]=n[u]][0],u=2,g(n,3,s,t,i,u,_)),_.push(n[i]),o!==r&&(n[o]=[n[s+1],n[s+1]=n[o]][0],o=s+1,g(n,s+2,e,i,t,o,_)),_},g=function(n,t,e,i,u,o,f){for(var a,c,s,v,l=e,_=t;e>=t;)if(sin_sign(n[o],n[u],n[t])>0){var h=dist_pl(n[t],[n[o],n[u]]);(a===r||h>s)&&(a=t,s=h),++t}else if(sin_sign(n[i],n[o],n[t])>0){n[t]=[n[e],n[e]=n[t]][0];var h=dist_pl(n[e],[n[i],n[o]]);(c===r||h>v)&&(c=e,v=h),--e}else c===l&&(c=e),t!=e&&(n[l]=[n[e],n[e]=n[l]][0]),n[t]=[n[l],n[l]=n[t]][0],--l,--e;a!==r&&(n[a]=[n[_],n[_]=n[a]][0],a=_,g(n,_+1,e,o,u,a,f)),f.push(n[o]),c!==r&&(n[c]=[n[e+1],n[e+1]=n[c]][0],c=e+1,g(n,e+2,l,i,o,c,f))};n.quick_hull=h;var p=function(n,r,t){return A(n,r,t)/x(n,r)/x(r,t)};n.cosval=p;var x=function(n,r){return Math.sqrt(m(n,r))};n.dist=x;var d=function(n,r,t){return G(n,r,t)/x(n,r)/x(r,t)};n.sinval=d;var y=function(n){var r,t,e,i,u,o,f,a,c,s,v,l;return r=n[0],i=r[0],u=r[1],o=r[2],t=n[1],f=t[0],a=t[1],c=t[2],e=n[2],s=e[0],v=e[1],l=e[2],i*a*l+u*c*s+o*f*v-s*a*o-v*c*i-l*f*u};n.det3=y;var m=function(n,r){var t;return t=q(n,r),b(t,t)};n.scalar=m;var k=function(n,r){return[n[0]+r[0],n[1]+r[1]]};n.vadd=k;var w=function(n,r){return n[0]*r[1]-n[1]*r[0]};n.vcross=w;var b=function(n,r){return n[0]*r[0]+n[1]*r[1]};n.vdot=b;var q=function(n,r){return[n[0]-r[0],n[1]-r[1]]};n.vsub=q;var M=function(n){var r=function(r,t,e){return n(r,t,e)>0};return r};n.__ccw__=M;var P=function(n){var r=function(r,t,e){return n(r,t,e)>=0};return r};n.__ccwc__=P;var j=function(n){var r=function(r,t,e){return 0===n(r,t,e)};return r};n.__colinear__=j;var z=function(n){var r=function(r,t,e){var i,u,o,f,a;if(a=e-t,2>=a)return!0;if(f=t,i=r[f],++f,u=r[f],++f,o=r[f],++f,3===a)return n(i,u,o);for(;;){if(!n(i,u,o))return!1;if(f===e)return f=t,i=r[f],n(u,o,i)?(++f,u=r[f],n(o,i,u)):!1;if(i=r[f],++f,!n(u,o,i))return!1;if(f===e)return f=t,u=r[f],n(o,i,u)?(++f,o=r[f],n(i,u,o)):!1;if(u=r[f],++f,!n(o,i,u))return!1;if(f===e)return f=t,o=r[f],n(i,u,o)?(++f,i=r[f],n(u,o,i)):!1;o=r[f],++f}};return r};n.__convex__=z;var A=function(n,r,t){return(r[0]-n[0])*(r[0]-t[0])+(r[1]-n[1])*(r[1]-t[1])};n.cossign=A;var B=function(n){var r=function(r,t,e){return n(r,t,e)<0};return r};n.__cw__=B;var C=function(n){var r=function(r,t,e){return n(r,t,e)<=0};return r};n.__cwc__=C;var D=function(n){var r=function(r,t,e,i){var u,o,f,a,c,s,v,l,_;return u=r[0],o=r[1],f=t[0],a=t[1],c=e[0],s=e[1],v=i[0],l=i[1],_=v*v+l*l,n([[u-v,o-l,u*u+o*o-_],[f-v,a-l,f*f+a*a-_],[c-v,s-l,c*c+s*s-_]])>0};return r};n.__icc__=D;var E=function(n){var r=function(r,t,e,i){return n(t,e,r)&&n(e,i,r)&&n(i,t,r)};return r};n.__pit__=E;var F=function(n){var r=function(r,t,e,i,u){var o,f,a;for(a=0,o=r[e-1],f=r[t],++t;;){if(a+=n(i,u,o,f),++t,t===e)return a;if(o=r[t],a+=n(i,u,o,f),++t,t===e)return a;f=r[t]}};return r};n.__rc__=F;var G=function(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])};n.sinsign=G}("undefined"==typeof exports?this.cg={}:exports);
//# sourceMappingURL=js/dist//cg.js.map